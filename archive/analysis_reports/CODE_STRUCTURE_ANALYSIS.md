# üìò –ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó –ö–û–î–û–í–û–ô –ë–ê–ó–´ –ü–†–û–ï–ö–¢–ê KKURS

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~14,650 —Å—Ç—Ä–æ–∫
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (.cpp)**: 30 —Ñ–∞–π–ª–æ–≤
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (.h/.hpp)**: 62 —Ñ–∞–π–ª–∞
- **–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è**: C++17
- **–û—Å–Ω–æ–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**: SFML 2.6
- **–°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏**: CMake 3.10+
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω**: Scene-based State Machine (—Å—Ü–µ–Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

---

## üéØ –ß–¢–û –î–ï–õ–ê–ï–¢ –≠–¢–û–¢ –ü–†–û–ï–ö–¢

**Road Trip Adventure RPG "69 Crossroads"** ‚Äî —ç—Ç–æ 2D –∞–≤—Ç–æ–ø—Ä–∏–∫–ª—é—á–µ–Ω—á–µ—Å–∫–∞—è —Ä–æ–ª–µ–≤–∞—è –∏–≥—Ä–∞ –≤ —Å—Ç–∏–ª–µ Russia 90s —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏:
- –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏—Ä–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ (—Ç–æ–ø–ª–∏–≤–æ, –¥–µ–Ω—å–≥–∏, —ç–Ω–µ—Ä–≥–∏—è)
- –°–∏—Å—Ç–µ–º—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –≤ —Å—Ç–∏–ª–µ Tarkov
- –°–∏—Å—Ç–µ–º—ã NPC –∏ –ø–æ–ø—É—Ç—á–∏–∫–æ–≤
- –°–∏—Å—Ç–µ–º—ã –¥–∏–∞–ª–æ–≥–æ–≤ —Å –≤–µ—Ç–≤–ª–µ–Ω–∏—è–º–∏
- –°–∏—Å—Ç–µ–º—ã —Å–æ–±—ã—Ç–∏–π –∏ –∫–≤–µ—Å—Ç–æ–≤
- –°–∏—Å—Ç–µ–º—ã —Ä–∞–∑–≤–∏—Ç–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (experience + ability tree)
- –°–∏—Å—Ç–µ–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏

–ò–≥—Ä–æ–∫ –ø—É—Ç–µ—à–µ—Å—Ç–≤—É–µ—Ç –ø–æ –∫–∞—Ä—Ç–µ –º–∏—Ä–∞, –ø–æ—Å–µ—â–∞–µ—Ç –ª–æ–∫–∞—Ü–∏–∏, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å NPC, —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–æ–π, —Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç—ã, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–≤–µ—Å—Ç—ã –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Å—é–∂–µ—Ç.

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### 1. Scene-Based Architecture (–°—Ü–µ–Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

–í—Å—è –∏–≥—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–µ **—Å—Ü–µ–Ω** (scenes). –ö–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –∏–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

#### –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: Scene.h

–ö–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç 5 –º–µ—Ç–æ–¥–æ–≤:
- `handleInput()` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –º—ã—à—å)
- `update()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ (—Ñ–∏–∑–∏–∫–∞, AI, —Ç–∞–π–º–µ—Ä—ã)
- `render()` ‚Äî –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ü–µ–Ω—ã
- `getNextScene()` ‚Äî –∫–∞–∫–∞—è —Å—Ü–µ–Ω–∞ –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–µ–π
- `isFinished()` ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ —Å—Ü–µ–Ω–∞ (–Ω—É–∂–µ–Ω –ø–µ—Ä–µ—Ö–æ–¥?)

**–¢–∏–ø—ã —Å—Ü–µ–Ω** (–≤—Å–µ–≥–æ 18 —Ç–∏–ø–æ–≤):
- MAIN_MENU ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- CHARACTER_CREATION ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞  
- WORLD_MAP ‚Äî –∫–∞—Ä—Ç–∞ –º–∏—Ä–∞
- NODE ‚Äî —É–∑–µ–ª (–≥–æ—Ä–æ–¥ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –º–∞—à–∏–Ω–æ–π)
- TRAVEL_CINEMATIC ‚Äî –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
- LOCATION ‚Äî –ª–æ–∫–∞—Ü–∏—è (–∑–∞–ø—Ä–∞–≤–∫–∞, –º–∞–≥–∞–∑–∏–Ω, –º–æ—Ç–µ–ª—å)
- CINEMATIC_EVENT ‚Äî –∏–≥—Ä–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ
- REST ‚Äî –æ—Ç–¥—ã—Ö –≤ –º–æ—Ç–µ–ª–µ
- ABILITY_TREE ‚Äî –¥–µ—Ä–µ–≤–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- INVENTORY ‚Äî –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
- DIALOGUE ‚Äî –¥–∏–∞–ª–æ–≥ —Å NPC
- PAUSE_MENU ‚Äî –ø–∞—É–∑–∞
- GAME_OVER ‚Äî –∫–æ–Ω–µ—Ü –∏–≥—Ä—ã
- EXIT ‚Äî –≤—ã—Ö–æ–¥

#### SceneManager ‚Äî –ú–µ–Ω–µ–¥–∂–µ—Ä —Å—Ü–µ–Ω

**–ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞**: —É–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –≤—Å–µ—Ö —Å—Ü–µ–Ω.

**–ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª**:
```
1. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π ‚Üí handleInput()
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ ‚Üí update(deltaTime)  
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚Üí isFinished()
4. –°–º–µ–Ω–∞ —Å—Ü–µ–Ω—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Üí createScene()
5. –û—Ç—Ä–∏—Å–æ–≤–∫–∞ ‚Üí render()
6. –ü–æ–≤—Ç–æ—Ä
```

**–ö–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å—Ü–µ–Ω—ã**: —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ `createScene(SceneType)`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—Ü–µ–Ω—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.

---

## üì¶ –û–°–ù–û–í–ù–´–ï –°–ò–°–¢–ï–ú–´ –ò–ì–†–´

### 2. PlayerState ‚Äî –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞

**–§–∞–π–ª—ã**: `PlayerState.h` / `PlayerState.cpp`

**–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤—Å–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä–æ–∫–∞**:

**–†–µ—Å—É—Ä—Å—ã**:
- `m_energy` (0-100) ‚Äî —ç–Ω–µ—Ä–≥–∏—è –∏–≥—Ä–æ–∫–∞, –Ω—É–∂–Ω–∞ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π
- `m_money` ‚Äî –¥–µ–Ω—å–≥–∏ –¥–ª—è –ø–æ–∫—É–ø–æ–∫
- `m_fuel` (0-100) ‚Äî —Ç–æ–ø–ª–∏–≤–æ –º–∞—à–∏–Ω—ã
- `m_vehicleCondition` (0-100) ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—à–∏–Ω—ã

**–ü–µ—Ä—Å–æ–Ω–∞–∂**:
- `m_origin` ‚Äî –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ (Nomad/Hitchhiker/Ex-Racer)
- `m_carType` ‚Äî —Ç–∏–ø –º–∞—à–∏–Ω—ã (Sedan/Van/SportCoupe)

**–ò–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
- `m_currentNodeId` ‚Äî –≥–¥–µ —Å–µ–π—á–∞—Å –∏–≥—Ä–æ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ
- `m_inventory` ‚Äî –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (–ø—Ä–µ–¥–º–µ—Ç—ã)

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
- `initializeResources()` ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±–æ—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- `isGameOver()` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –∫–æ–Ω—Ü–∞ –∏–≥—Ä—ã (–Ω–µ—Ç —Ç–æ–ø–ª–∏–≤–∞, —ç–Ω–µ—Ä–≥–∏–∏)
- `canAfford(cost)` ‚Äî —Ö–≤–∞—Ç–∏—Ç –ª–∏ –¥–µ–Ω–µ–≥ –Ω–∞ –ø–æ–∫—É–ø–∫—É

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**: —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤—Å—é –∏–≥—Ä—É. –í—Å–µ —Å—Ü–µ–Ω—ã –ø–æ–ª—É—á–∞—é—Ç –∫ –Ω–µ–º—É –¥–æ—Å—Ç—É–ø –∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

---

### 3. InventorySystem ‚Äî –°–∏—Å—Ç–µ–º–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

**–§–∞–π–ª—ã**: `InventorySystem.h` / `InventorySystem.cpp` + `Item.h`

**Item** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–µ–¥–º–µ—Ç–∞:
- name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ
- description ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ
- category ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–µ–¥–∞, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –ª–µ–∫–∞—Ä—Å—Ç–≤–∞)
- weight ‚Äî –≤–µ—Å
- value ‚Äî —Ü–µ–Ω–∞
- isStackable ‚Äî –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤ —Å—Ç–æ–ø–∫–∏?
- maxStackSize ‚Äî –º–∞–∫—Å–∏–º—É–º –≤ —Å—Ç–æ–ø–∫–µ
- rarity ‚Äî —Ä–µ–¥–∫–æ—Å—Ç—å (Common/Rare/Epic/Legendary)

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**:
- FOOD ‚Äî –µ–¥–∞ (–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é)
- WATER ‚Äî –≤–æ–¥–∞
- FUEL ‚Äî —Ç–æ–ø–ª–∏–≤–æ (–∫–∞–Ω–∏—Å—Ç—Ä—ã)
- TOOL ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–¥–ª—è —Ä–µ–º–æ–Ω—Ç–∞)
- PART ‚Äî –∑–∞–ø—á–∞—Å—Ç–∏
- MEDICINE ‚Äî –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã
- QUEST ‚Äî –∫–≤–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
- JUNK ‚Äî –º—É—Å–æ—Ä (–ø—Ä–æ–¥–∞—Ç—å)
- OTHER ‚Äî –ø—Ä–æ—á–µ–µ

**InventorySystem**:
- 24 —Å–ª–æ—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤–µ—Å—É (100.0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ê–≤—Ç–æ—Å—Ç–∞–∫–∏–Ω–≥ ‚Äî stackable –ø—Ä–µ–¥–º–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
- `addItem(item)` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–µ—Å –∏ –º–µ—Å—Ç–æ)
- `removeItem(slotIndex)` ‚Äî —É–¥–∞–ª–∏—Ç—å –∏–∑ —Å–ª–æ—Ç–∞
- `hasItem(name)` ‚Äî –µ—Å—Ç—å –ª–∏ –ø—Ä–µ–¥–º–µ—Ç?
- `getTotalWeight()` ‚Äî —Ç–µ–∫—É—â–∏–π –≤–µ—Å
- `findItem(name)` ‚Äî –Ω–∞–π—Ç–∏ —Å–ª–æ—Ç —Å –ø—Ä–µ–¥–º–µ—Ç–æ–º
- `compactInventory()` ‚Äî —É–±—Ä–∞—Ç—å –ø—É—Å—Ç—ã–µ —Å–ª–æ—Ç—ã

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
1. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤–µ—Å
2. –ï—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç stackable, –∏—â–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å—Ç–æ–ø–∫–∞
3. –ï—Å–ª–∏ —Å—Ç–æ–ø–∫–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞, –ø—Ä–µ–¥–º–µ—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç—É–¥–∞
4. –ò–Ω–∞—á–µ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Å–ª–æ—Ç
5. –ï—Å–ª–∏ –Ω–µ—Ç –º–µ—Å—Ç–∞ –∏–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω –≤–µ—Å ‚Äî –æ—Ç–∫–∞–∑

---

### 4. NPC System ‚Äî –°–∏—Å—Ç–µ–º–∞ –ø–æ–ø—É—Ç—á–∏–∫–æ–≤

**–§–∞–π–ª—ã**: `NPC.h` / `NPC.cpp`

**NPC –∫–ª–∞—Å—Å** ‚Äî –Ω–µ–∏–≥—Ä–æ–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂:
- id ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
- name ‚Äî –∏–º—è
- bio ‚Äî –±–∏–æ–≥—Ä–∞—Ñ–∏—è
- level ‚Äî —É—Ä–æ–≤–µ–Ω—å (1-3)
- experience ‚Äî –æ–ø—ã—Ç
- passiveAbility ‚Äî –ø–∞—Å—Å–∏–≤–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- activeAbility ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- attachedQuests ‚Äî –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫–≤–µ—Å—Ç—ã

**–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**:
- **PassiveAbility** ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (—Å–∫–∏–¥–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ, —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–ø–ª–∏–≤–∞)
- **ActiveAbility** ‚Äî —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å –∫—É–ª–¥–∞—É–Ω–æ–º (—Ä–µ–º–æ–Ω—Ç –≤ –¥–æ—Ä–æ–≥–µ, –ª–µ—á–µ–Ω–∏–µ)

**Attachment** ‚Äî –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:
- MAIN_HERO ‚Äî –±–æ–Ω—É—Å –≥–µ—Ä–æ—é
- NPC ‚Äî –±–æ–Ω—É—Å NPC
- CAR ‚Äî –±–æ–Ω—É—Å –º–∞—à–∏–Ω–µ

**NPCManager** (—Å–∏–Ω–≥–ª—Ç–æ–Ω):
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–æ–π –ø–æ–ø—É—Ç—á–∏–∫–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–∞—à–∏–Ω—ã)
- `addNPC()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–º–∞–Ω–¥—É
- `removeNPC()` ‚Äî —É–±—Ä–∞—Ç—å –∏–∑ –∫–æ–º–∞–Ω–¥—ã
- `hasSpace()` ‚Äî –µ—Å—Ç—å –º–µ—Å—Ç–∞?
- `addExperienceToTeam()` ‚Äî –æ–ø—ã—Ç –≤—Å–µ–π –∫–æ–º–∞–Ω–¥–µ

**NPCFactory** ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö NPC:
- `createMechanic()` ‚Äî –º–µ—Ö–∞–Ω–∏–∫ (—Å–∫–∏–¥–∫–∞ –Ω–∞ —Ä–µ–º–æ–Ω—Ç)
- `createTrader()` ‚Äî —Ç–æ—Ä–≥–æ–≤–µ—Ü (—Å–∫–∏–¥–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ)
- `createCompanion()` ‚Äî –∫–æ–º–ø–∞–Ω—å–æ–Ω (–±–æ–Ω—É—Å –∫ –º–æ—Ä–∞–ª–∏)
- `createMedic()` ‚Äî –º–µ–¥–∏–∫ (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ª–µ—á–µ–Ω–∏–µ)
- `createNavigator()` ‚Äî –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä (—ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–ø–ª–∏–≤–∞)

**–°–∏—Å—Ç–µ–º–∞ –æ–ø—ã—Ç–∞ NPC**:
- NPC –ø–æ–ª—É—á–∞—é—Ç –æ–ø—ã—Ç –∑–∞ —Å–æ–±—ã—Ç–∏—è/–∫–≤–µ—Å—Ç—ã
- –ü—Ä–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –æ–ø—ã—Ç–µ –º–æ–≥—É—Ç –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å
- –ú–∞–∫—Å–∏–º—É–º 3 —É—Ä–æ–≤–Ω—è
- –° –∫–∞–∂–¥—ã–º —É—Ä–æ–≤–Ω–µ–º —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —É—Å–∏–ª–∏–≤–∞—é—Ç—Å—è

---

### 5. DialogueManager ‚Äî –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤

**–§–∞–π–ª—ã**: `DialogueManager.h` / `DialogueManager.cpp`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏–∞–ª–æ–≥–∞** ‚Äî —ç—Ç–æ –¥–µ—Ä–µ–≤–æ —É–∑–ª–æ–≤:

**DialogueNode** ‚Äî —É–∑–µ–ª –¥–∏–∞–ª–æ–≥–∞:
- id ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —É–∑–ª–∞
- speakerName ‚Äî –∫—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç
- text ‚Äî —Ç–µ–∫—Å—Ç —Ä–µ–ø–ª–∏–∫–∏
- choices ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ (–º–∞—Å—Å–∏–≤)
- isPlayerSpeaking ‚Äî –≥–æ–≤–æ—Ä–∏—Ç –∏–≥—Ä–æ–∫?
- isEndNode ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª?

**DialogueChoice** ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±–æ—Ä–∞:
- text ‚Äî —Ç–µ–∫—Å—Ç –≤—ã–±–æ—Ä–∞
- nextNodeId ‚Äî —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª
- condition ‚Äî —É—Å–ª–æ–≤–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (—Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏)
- consequence ‚Äî –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è (—Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- requiresMoney ‚Äî –Ω—É–∂–Ω—ã –¥–µ–Ω—å–≥–∏?
- moneyCost ‚Äî —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç
- requiresItem ‚Äî –Ω—É–∂–µ–Ω –ø—Ä–µ–¥–º–µ—Ç?
- requiredItemId ‚Äî –∫–∞–∫–æ–π –ø—Ä–µ–¥–º–µ—Ç

**DialogueTree** ‚Äî –¥–µ—Ä–µ–≤–æ –¥–∏–∞–ª–æ–≥–∞:
- id ‚Äî ID –¥–∏–∞–ª–æ–≥–∞
- title ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ
- nodes ‚Äî —É–∑–ª—ã –ø–æ ID (map)
- startNodeId ‚Äî —Å –∫–∞–∫–æ–≥–æ —É–∑–ª–∞ –Ω–∞—á–∞—Ç—å

**DialogueManager** (—Å–∏–Ω–≥–ª—Ç–æ–Ω):
- `registerDialogue()` ‚Äî –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ –¥–∏–∞–ª–æ–≥–∞
- `startDialogue(id)` ‚Äî –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥
- `selectChoice(index)` ‚Äî –≤—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç
- `getCurrentNode()` ‚Äî —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª
- `isChoiceAvailable(index)` ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç (–ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π)
- `endDialogue()` ‚Äî –∑–∞–∫–æ–Ω—á–∏—Ç—å –¥–∏–∞–ª–æ–≥

**DialogueFactory** ‚Äî –≥–æ—Ç–æ–≤—ã–µ –¥–∏–∞–ª–æ–≥–∏:
- `createMechanicDialogue()` ‚Äî –¥–∏–∞–ª–æ–≥ —Å –º–µ—Ö–∞–Ω–∏–∫–æ–º –æ —Ä–µ–º–æ–Ω—Ç–µ
- `createTraderDialogue()` ‚Äî –¥–∏–∞–ª–æ–≥ —Å —Ç–æ—Ä–≥–æ–≤—Ü–µ–º
- `createRecruitDialogue()` ‚Äî –¥–∏–∞–ª–æ–≥ –Ω–∞–π–º–∞ NPC
- `createConflictDialogue()` ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤ –∫–æ–º–∞–Ω–¥–µ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∏–∞–ª–æ–≥**:
1. –î–∏–∞–ª–æ–≥ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –º–µ–Ω–µ–¥–∂–µ—Ä–µ
2. –°—Ü–µ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç `startDialogue(id)`
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —É–∑–µ–ª
4. –ò–≥—Ä–æ–∫ –≤–∏–¥–∏—Ç —Ç–µ–∫—Å—Ç –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã
5. –í—ã–±–∏—Ä–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç ‚Üí `selectChoice(index)`
6. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è (–¥–µ–Ω—å–≥–∏, –ø—Ä–µ–¥–º–µ—Ç—ã)
7. –ï—Å–ª–∏ OK ‚Äî –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
8. –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É –∏–ª–∏ –∫–æ–Ω–µ—Ü

**–ü—Ä–∏–º–µ—Ä —É—Å–ª–æ–≤–∏–π**:
- "–ù—É–∂–Ω–æ 50$ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç"
- "–ù—É–∂–µ–Ω –ì–∞–µ—á–Ω—ã–π –∫–ª—é—á –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ"
- "–ù—É–∂–Ω–∞ –º–æ—Ä–∞–ª—å –∫–æ–º–∞–Ω–¥—ã > 70%"
- "–ù—É–∂–µ–Ω –∞—Ä—Ö–µ—Ç–∏–ø –û–±—â–∏—Ç–µ–ª—å–Ω—ã–π"

**–ü—Ä–∏–º–µ—Ä –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π**:
- –ü–æ—Ç—Ä–∞—Ç–∏—Ç—å –¥–µ–Ω—å–≥–∏
- –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç
- –ò–∑–º–µ–Ω–∏—Ç—å –º–æ—Ä–∞–ª—å
- –ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç
- –û—Ç–∫—Ä—ã—Ç—å –ª–æ–∫–∞—Ü–∏—é

---

### 6. EventManager ‚Äî –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π

**–§–∞–π–ª—ã**: `EventManager.h` / `EventManager.cpp`

**GameEvent** ‚Äî –∏–≥—Ä–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ:
- id ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
- title ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- description ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏
- condition ‚Äî —É—Å–ª–æ–≤–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
- choices ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π
- triggered ‚Äî –±—ã–ª–æ –ª–∏ –∑–∞–ø—É—â–µ–Ω–æ

**EventCondition** ‚Äî —É—Å–ª–æ–≤–∏—è:
- minFuel, maxFuel ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω —Ç–æ–ø–ª–∏–≤–∞
- minEnergy, maxEnergy ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω —ç–Ω–µ—Ä–≥–∏–∏
- minMoney, maxMoney ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –¥–µ–Ω–µ–≥
- probability ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (0.0-1.0)
- requiredLocation ‚Äî –Ω—É–∂–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è

**EventChoice** ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç –¥–µ–π—Å—Ç–≤–∏—è:
- text ‚Äî —Ç–µ–∫—Å—Ç –≤—ã–±–æ—Ä–∞
- outcomeText ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- fuelChange ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–ø–ª–∏–≤–∞
- energyChange ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
- moneyChange ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–µ–Ω–µ–≥
- endsEvent ‚Äî –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ?
- perkId ‚Äî —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- isPerkChoice ‚Äî –≤—ã–±–æ—Ä —á–µ—Ä–µ–∑ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å?

**EventManager**:
- `addEvent()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –≤ –ø—É–ª
- `getRandomEvent()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è)
- `checkCondition()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏—è
- `applyChoice()` ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä (–∏–∑–º–µ–Ω–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã)
- `initializeDefaultEvents()` ‚Äî —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
1. –°–æ–±—ã—Ç–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –ø—É–ª —á–µ—Ä–µ–∑ `addEvent()`
2. –í –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `getRandomEvent()`
3. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Å–µ —Å–æ–±—ã—Ç–∏—è: —É—Å–ª–æ–≤–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, –ª–æ–∫–∞—Ü–∏—è
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ–¥—Ö–æ–¥—è—â–µ–µ —Å–æ–±—ã—Ç–∏–µ (–∏–ª–∏ nullptr –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–¥–æ—à–ª–æ)
5. –°–æ–±—ã—Ç–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–≥—Ä–æ–∫—É
6. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ
7. –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ `applyChoice()`

**–ü—Ä–∏–º–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π**:
- "–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ø–ª–∏–≤–æ, –≤—Å—Ç—Ä–µ—á–µ–Ω –ø–æ–ø—É—Ç—á–∏–∫" (minFuel < 20)
- "–ù–∞–π–¥–µ–Ω–∞ –∑–∞–±—Ä–æ—à–µ–Ω–Ω–∞—è –∑–∞–ø—Ä–∞–≤–∫–∞" (–ª—é–±—ã–µ —É—Å–ª–æ–≤–∏—è, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å 10%)
- "–ú–µ—Ö–∞–Ω–∏–∫ –≤ –∫–æ–º–∞–Ω–¥–µ –º–æ–∂–µ—Ç –ø–æ—á–∏–Ω–∏—Ç—å –º–∞—à–∏–Ω—É –±–µ—Å–ø–ª–∞—Ç–Ω–æ" (—Ç—Ä–µ–±—É–µ—Ç—Å—è NPC-–º–µ—Ö–∞–Ω–∏–∫)

---

### 7. ExperienceSystem + AbilityTree ‚Äî –û–ø—ã—Ç –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–§–∞–π–ª—ã**:
- `ExperienceSystem.h/.cpp` ‚Äî —Å–∏—Å—Ç–µ–º–∞ –æ–ø—ã—Ç–∞
- `AbilityNode.h/.cpp` ‚Äî —É–∑–ª—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- `AbilityTreeSystem.h/.cpp` ‚Äî –¥–µ—Ä–µ–≤–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- `AbilityTreeScene.h/.cpp` ‚Äî —Å—Ü–µ–Ω–∞ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

**ExperienceSystem** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –æ–ø—ã—Ç–∞:
- level ‚Äî —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–∞
- experience ‚Äî —Ç–µ–∫—É—â–∏–π –æ–ø—ã—Ç
- skillPoints ‚Äî –æ—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤

**–ú–µ—Ç–æ–¥—ã**:
- `addExperience(amount)` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –æ–ø—ã—Ç
- `canLevelUp()` ‚Äî –º–æ–∂–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å?
- `levelUp()` ‚Äî –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å (+1 skill point)
- `getExperienceForNextLevel()` ‚Äî –æ–ø—ã—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è

**AbilityNode** ‚Äî —É–∑–µ–ª —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
- id, name, description
- type ‚Äî —Ç–∏–ø —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- tier ‚Äî —É—Ä–æ–≤–µ–Ω—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (1-3)
- cost ‚Äî —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ skill points
- requirements ‚Äî —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏)
- unlocked ‚Äî —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞?

**–ë–æ–Ω—É—Å—ã**:
- bonusFuelEfficiency ‚Äî —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–ø–ª–∏–≤–∞
- bonusRepairDiscount ‚Äî —Å–∫–∏–¥–∫–∞ –Ω–∞ —Ä–µ–º–æ–Ω—Ç
- bonusTradeDiscount ‚Äî —Å–∫–∏–¥–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ
- bonusMoraleBoost ‚Äî –±–æ–Ω—É—Å –∫ –º–æ—Ä–∞–ª–∏
- –∏ –¥—Ä—É–≥–∏–µ...

**AbilityTreeSystem** (—Å–∏–Ω–≥–ª—Ç–æ–Ω):
- `unlockAbility(id)` ‚Äî —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- `canUnlock(id)` ‚Äî –º–æ–∂–Ω–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å?
- `getAvailableAbilities()` ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- `getTotalBonus(type)` ‚Äî —Å—É–º–º–∞—Ä–Ω—ã–π –±–æ–Ω—É—Å

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
1. –ò–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç –æ–ø—ã—Ç –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è
2. –ü—Ä–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –æ–ø—ã—Ç–µ ‚Äî –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
3. –ü–æ–ª—É—á–∞–µ—Ç skill point
4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è AbilityTreeScene
5. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
6. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è: —Å—Ç–æ–∏–º–æ—Å—Ç—å, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
7. –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
8. –ë–æ–Ω—É—Å—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –∏–≥—Ä–µ

---

### 8. QuestManager ‚Äî –°–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤

**–§–∞–π–ª—ã**: `QuestManager.h` / `QuestManager.cpp`

**Quest** ‚Äî –∫–≤–µ—Å—Ç:
- id, title, description
- status ‚Äî NOT_STARTED / IN_PROGRESS / COMPLETED / FAILED
- objectives ‚Äî —Å–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π
- rewardMoney ‚Äî –Ω–∞–≥—Ä–∞–¥–∞ –¥–µ–Ω—å–≥–∞–º–∏
- rewardExperience ‚Äî –Ω–∞–≥—Ä–∞–¥–∞ –æ–ø—ã—Ç–æ–º
- rewardItem ‚Äî –Ω–∞–≥—Ä–∞–¥–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–º

**QuestObjective** ‚Äî —Ü–µ–ª—å –∫–≤–µ—Å—Ç–∞:
- description ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏
- completed ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∞?
- targetCount ‚Äî –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å
- currentCount ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

**QuestManager**:
- `addQuest()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∫–≤–µ—Å—Ç
- `startQuest()` ‚Äî –Ω–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç
- `updateObjective()` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
- `completeQuest()` ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–µ—Å—Ç
- `getActiveQuests()` ‚Äî –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
1. –ö–≤–µ—Å—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥ –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ
2. –ò–≥—Ä–æ–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–≤–µ—Å—Ç ‚Üí —Å—Ç–∞—Ç—É—Å IN_PROGRESS
3. –í–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `updateObjective()`
4. –ö–æ–≥–¥–∞ –≤—Å–µ —Ü–µ–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚Üí –º–æ–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å
5. –í—ã–¥–∞—ë—Ç—Å—è –Ω–∞–≥—Ä–∞–¥–∞

---

### 9. SaveSystem ‚Äî –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

**–§–∞–π–ª—ã**: `SaveSystem.h/.cpp` + `GameStateManager.h/.cpp`

**GameState** ‚Äî –ø–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã:
- –†–µ—Å—É—Ä—Å—ã (energy, money, fuel, condition)
- –ü–µ—Ä—Å–æ–Ω–∞–∂ (origin, carType, level, experience)
- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å (—Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤)
- –ö–æ–º–∞–Ω–¥–∞ NPC (—Å–ø–∏—Å–æ–∫ ID)
- –ö–≤–µ—Å—Ç—ã (–∞–∫—Ç–∏–≤–Ω—ã–µ, –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ)
- –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- –í—Ä–µ–º—è –∏–≥—Ä—ã

**SaveSystem**:
- `saveGame()` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
- `loadGame()` ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ —Ñ–∞–π–ª–∞
- `hasSaveFile()` ‚Äî –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ?
- `deleteSaveFile()` ‚Äî —É–¥–∞–ª–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

**GameStateManager**:
- `captureCurrentState()` ‚Äî —Å–æ–±—Ä–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `restoreState()` ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ JSON

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
1. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç "Save Game"
2. `captureCurrentState()` —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
3. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ JSON
4. –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª `savegame.json`
5. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ: —á—Ç–µ–Ω–∏–µ ‚Üí –ø–∞—Ä—Å–∏–Ω–≥ ‚Üí –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

---

## üéÆ –°–¶–ï–ù–´ –ò–ì–†–´ (–¥–µ—Ç–∞–ª—å–Ω–æ)

### 10. MainMenuScene ‚Äî –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**:
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã
- –í–∞—Ä–∏–∞–Ω—Ç—ã: New Game, Continue, Options, Credits, Exit

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
- ‚Üë‚Üì ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- Enter ‚Äî –≤—ã–±–æ—Ä
- ESC ‚Äî –≤—ã—Ö–æ–¥

**–õ–æ–≥–∏–∫–∞**:
- New Game ‚Üí CHARACTER_CREATION
- Continue ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Üí WORLD_MAP
- Exit ‚Üí SceneType::EXIT

---

### 11. CharacterCreationScene ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

**–î–≤–∞ —ç—Ç–∞–ø–∞**:
1. –í—ã–±–æ—Ä –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è (Nomad/Hitchhiker/Ex-Racer)
2. –í—ã–±–æ—Ä –º–∞—à–∏–Ω—ã (Sedan/Van/SportCoupe)

**–≠—Ñ—Ñ–µ–∫—Ç—ã**:
- Typewriter —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è —Ç–µ–∫—Å—Ç–∞
- –û—Ä–∞–Ω–∂–µ–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å (‚ñ∫)

**–í–ª–∏—è–Ω–∏–µ –≤—ã–±–æ—Ä–∞**:
- Nomad: –±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥, –ª—É—á—à–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å
- Hitchhiker: –±–æ–Ω—É—Å –∫ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º –Ω–∞–≤—ã–∫–∞–º
- Ex-Racer: –ª—É—á—à–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–ø–ª–∏–≤–∞

- Sedan: –Ω–∞–¥—ë–∂–Ω—ã–π, —ç–∫–æ–Ω–æ–º–∏—á–Ω—ã–π
- Van: –≤–º–µ—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–π, –¥–ª—è –±–æ–ª—å—à–æ–π –∫–æ–º–∞–Ω–¥—ã
- SportCoupe: –±—ã—Å—Ç—Ä—ã–π, –¥–æ—Ä–æ–≥–æ–π –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏

**–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞**:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PlayerState
- –ü–µ—Ä–µ—Ö–æ–¥ –∫ WORLD_MAP

---

### 12. MapScene / WorldMapScene ‚Äî –ö–∞—Ä—Ç–∞ –º–∏—Ä–∞

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç**:
- –ö–∞—Ä—Ç–∞ —Å —É–∑–ª–∞–º–∏ (–Ω–æ–¥–∞–º–∏)
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ (–¥–æ—Ä–æ–≥–∏)
- –¢–µ–∫—É—â–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–∑–ª–∞—Ö

**MapNode**:
- id, name, position
- connections ‚Äî —Å–æ—Å–µ–¥–Ω–∏–µ —É–∑–ª—ã
- type ‚Äî —Ç–∏–ø —É–∑–ª–∞ (–≥–æ—Ä–æ–¥, –º–æ—Ç–µ–ª—å, –∑–∞–ø—Ä–∞–≤–∫–∞)
- visited ‚Äî –±—ã–ª –ø–æ—Å–µ—â—ë–Ω?

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
- –ö–ª–∏–∫ –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–π —É–∑–µ–ª ‚Üí –Ω–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ
- –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ —É–∑–ª—ã

**–ü–µ—Ä–µ—Ö–æ–¥**:
- –í—ã–±–æ—Ä —É–∑–ª–∞ ‚Üí TRAVEL_CINEMATIC ‚Üí NODE

---

### 13. NodeScene ‚Äî –£–∑–µ–ª (–≥–æ—Ä–æ–¥)

**–ì–µ–π–º–ø–ª–µ–π –≤ —É–∑–ª–µ**:
- –ú–∞—à–∏–Ω–∞ –∏–≥—Ä–æ–∫–∞ –≤ –≥–æ—Ä–æ–¥–µ
- –î–≤–∏–∂–µ–Ω–∏–µ A/D
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ E —Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä—ã**:
- GAS_STATION ‚Äî –∑–∞–ø—Ä–∞–≤–∫–∞
- STORE ‚Äî –º–∞–≥–∞–∑–∏–Ω
- WORKSHOP ‚Äî –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è
- MOTEL ‚Äî –º–æ—Ç–µ–ª—å
- DINER ‚Äî –∑–∞–∫—É—Å–æ—á–Ω–∞—è

**HUD**:
- –†–µ—Å—É—Ä—Å—ã (—Ç–æ–ø–ª–∏–≤–æ, —ç–Ω–µ—Ä–≥–∏—è, –¥–µ–Ω—å–≥–∏)
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ ("Press E to interact")

**–ü–µ—Ä–µ—Ö–æ–¥—ã**:
- E —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Üí LOCATION
- I ‚Üí INVENTORY
- ESC ‚Üí PAUSE_MENU
- –í—ã—Ö–æ–¥ –∏–∑ —É–∑–ª–∞ ‚Üí WORLD_MAP

---

### 14. TravelCinematicScene ‚Äî –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ

**–ê–Ω–∏–º–∞—Ü–∏—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è**:
- –ü–∞—Ä–∞–ª–ª–∞–∫—Å-—Ñ–æ–Ω—ã (–æ–±–ª–∞–∫–∞, –¥–µ—Ä–µ–≤—å—è, –¥–æ—Ä–æ–≥–∞)
- –ú–∞—à–∏–Ω–∞ "–µ–¥–µ—Ç"
- –†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞
- –°–ª—É—á–∞–π–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
1. –†–∞—Å—á—ë—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —Ü–µ–ª–∏
2. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞
3. –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏—è
4. –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ ‚Üí CINEMATIC_EVENT
5. –ü–æ –ø—Ä–∏–±—ã—Ç–∏–∏ ‚Üí NODE

---

### 15. LocationScene ‚Äî –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è

**–¢–∏–ø—ã –ª–æ–∫–∞—Ü–∏–π**:

**GAS_STATION** (–∑–∞–ø—Ä–∞–≤–∫–∞):
- Fill Tank ($50) ‚Äî –∑–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π –±–∞–∫
- Buy Fuel Canister ‚Äî –∫—É–ø–∏—Ç—å –∫–∞–Ω–∏—Å—Ç—Ä—É
- Check Prices
- Leave

**STORE** (–º–∞–≥–∞–∑–∏–Ω):
- Buy Food ($10)
- Buy Water ($5)
- Buy Medicine ($20)
- Buy Tools ($30)
- Sell Items
- Leave

**WORKSHOP** (–º–∞—Å—Ç–µ—Ä—Å–∫–∞—è):
- Repair Vehicle ‚Äî —Ä–µ–º–æ–Ω—Ç (—Ü–µ–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è)
- Check Condition
- Buy Parts
- Leave

**MOTEL** (–º–æ—Ç–µ–ª—å):
- Rent Room & Rest ($20) ‚Äî –æ—Ç–¥—ã—Ö + –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
- Save Game
- Access Inventory
- Leave

**DINER** (–∑–∞–∫—É—Å–æ—á–Ω–∞—è):
- Buy Meal ($15) ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é
- Buy Coffee ($5) ‚Äî –Ω–µ–±–æ–ª—å—à–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- Chat with Locals ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- Leave

**–õ–æ–≥–∏–∫–∞**:
1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é –ª–æ–∫–∞—Ü–∏–∏
2. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ü–∏—é
3. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –¥–µ–Ω—å–≥–∏
4. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏–µ
5. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è PlayerState
6. Leave ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ NODE

---

### 16. CinematicEventScene ‚Äî –°–æ–±—ã—Ç–∏–µ

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–±—ã—Ç–∏—è
- –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏
- –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π

**–ü—Ä–æ—Ü–µ—Å—Å**:
1. –ü–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ –∏–∑ EventManager
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç title –∏ description
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç choices
4. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç
5. –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
6. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è outcome
7. –í–æ–∑–≤—Ä–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ü–µ–Ω–µ

**–ü—Ä–∏–º–µ—Ä—ã**:
- "–í—Å—Ç—Ä–µ—á–µ–Ω –ø–æ–ø—É—Ç—á–∏–∫ –Ω–∞ –¥–æ—Ä–æ–≥–µ"
- "–ú–∞—à–∏–Ω–∞ —Å–ª–æ–º–∞–ª–∞—Å—å"
- "–ù–∞–π–¥–µ–Ω —Ç–∞–π–Ω–∏–∫ —Å –¥–µ–Ω—å–≥–∞–º–∏"
- "–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ–ª–∏—Ü–∏–µ–π"

---

### 17. RestScene ‚Äî –û—Ç–¥—ã—Ö

**–í –º–æ—Ç–µ–ª–µ**:
- Rest ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é
- Save Game ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É
- Inventory ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
- Leave ‚Äî –≤—ã–π—Ç–∏

**–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏**:
- –ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- –°—Ç–æ–∏–º–æ—Å—Ç—å $20
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Ç–¥—ã—Ö–∞

---

### 18. AbilityTreeScene ‚Äî –î–µ—Ä–µ–≤–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**:
- –î–µ—Ä–µ–≤–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π (tier 1 ‚Üí tier 2 ‚Üí tier 3)
- –°–≤—è–∑–∏ –º–µ–∂–¥—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏
- –î–æ—Å—Ç—É–ø–Ω—ã–µ/–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
- –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–µ—Å–ª–∏ —Ö–≤–∞—Ç–∞–µ—Ç points)

**–ü—Ä–æ–≤–µ—Ä–∫–∏**:
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ skill points?
- –í—ã–ø–æ–ª–Ω–µ–Ω—ã requirements?

---

### 19. InventoryScene ‚Äî –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**:
- –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –ø–æ —Å–ª–æ—Ç–∞–º
- –ù–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –≤–µ—Å
- –û–±—â–∏–π –≤–µ—Å / –º–∞–∫—Å–∏–º—É–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤

**–î–µ–π—Å—Ç–≤–∏—è**:
- Use ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç
- Drop ‚Äî –≤—ã–±—Ä–æ—Å–∏—Ç—å
- Info ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤**:
- –ï–¥–∞ ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é
- –í–æ–¥–∞ ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é
- –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã ‚Äî –ª–µ—á–µ–Ω–∏–µ
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Äî —Ä–µ–º–æ–Ω—Ç
- –ö–≤–µ—Å—Ç–æ–≤—ã–µ ‚Äî –¥–ª—è –∫–≤–µ—Å—Ç–æ–≤

---

### 20. PauseMenuScene ‚Äî –ü–∞—É–∑–∞

**–û–ø—Ü–∏–∏**:
- Resume ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
- Save Game ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
- Settings ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∑–∞–≥–ª—É—à–∫–∞)
- Main Menu ‚Äî –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- Quit ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã

**–í–∞–∂–Ω–æ**: –∏–≥—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

---

### 21. GameOverScene ‚Äî –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**:
- "GAME OVER"
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –ø—Ä–æ–π–¥–µ–Ω–æ –º–∏–ª—å, –≤—Ä–µ–º—è, –ª–æ–∫–∞—Ü–∏–∏
- –ü—Ä–∏—á–∏–Ω–∞ –∫–æ–Ω—Ü–∞ (–Ω–µ—Ç —Ç–æ–ø–ª–∏–≤–∞ / —ç–Ω–µ—Ä–≥–∏–∏)

**–û–ø—Ü–∏–∏**:
- Restart ‚Äî –Ω–æ–≤–∞—è –∏–≥—Ä–∞
- Main Menu ‚Äî –≤ –º–µ–Ω—é

---

## üé® UI –°–ò–°–¢–ï–ú–ê

### 22. UI Components

**UIComponent** ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å:
- position, size ‚Äî –ø–æ–∑–∏—Ü–∏—è –∏ —Ä–∞–∑–º–µ—Ä
- visible, enabled ‚Äî –≤–∏–¥–∏–º–æ—Å—Ç—å –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- update(), render(), handleEvent()

**ResourceBar** ‚Äî –ø–æ–ª–æ—Å–∞ —Ä–µ—Å—É—Ä—Å–∞:
- –¢–µ–∫—É—â–µ–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –¶–≤–µ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Ä–æ–≤–Ω—è (–∑–µ–ª—ë–Ω—ã–π‚Üí–∂—ë–ª—Ç—ã–π‚Üí–∫—Ä–∞—Å–Ω—ã–π)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–æ–ø–ª–∏–≤–∞, —ç–Ω–µ—Ä–≥–∏–∏

**HUDPanel** ‚Äî –ø–∞–Ω–µ–ª—å HUD:
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã
- –î–µ–Ω—å–≥–∏, —Ç–æ–ø–ª–∏–≤–æ, —ç–Ω–µ—Ä–≥–∏—è, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—à–∏–Ω—ã
- –°–∫–æ—Ä–æ—Å—Ç—å, –æ–¥–æ–º–µ—Ç—Ä
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
1. HUD —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –∏–≥—Ä–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ö
2. `update()` –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ PlayerState
3. `render()` –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö –∏–≥—Ä—ã
4. –í—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º –Ω–∞ —ç–∫—Ä–∞–Ω–µ

---

## üîß –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### 23. GameTypes ‚Äî –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

**BiomeType** ‚Äî –±–∏–æ–º:
- DESERT, FOREST, COASTAL, MOUNTAIN, URBAN, SUBURBAN

**OriginType** ‚Äî –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:
- NOMAD, HITCHHIKER, EX_RACER

**CarType** ‚Äî –º–∞—à–∏–Ω–∞:
- OLD_SEDAN, OFFROAD_VAN, SPORTS_COUPE

**StartingResources** ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã:
- money, fuel, energy

**–§—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏**:
- `getBiomeTypeName()` ‚Üí "Desert"
- `getOriginTypeName()` ‚Üí "Nomad"
- `getCarTypeName()` ‚Üí "Old Sedan"
- `getStartingResources()` ‚Üí –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å—ã

---

### 24. Character –∏ Car

**Character** (–∫–ª–∞—Å—Å):
- –ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- –ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ
- –£—Ä–æ–≤–µ–Ω—å, –æ–ø—ã—Ç
- –°–≤—è–∑—å —Å PlayerState

**Car** (–∫–ª–∞—Å—Å):
- –¢–∏–ø –º–∞—à–∏–Ω—ã
- –°–æ—Å—Ç–æ—è–Ω–∏–µ (0-100)
- –†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞
- –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –±–∞–≥–∞–∂–Ω–∏–∫–∞
- –ú–∞–∫—Å–∏–º—É–º NPC –≤ –∫–æ–º–∞–Ω–¥–µ

---

### 25. Structure ‚Äî –°—Ç—Ä—É–∫—Ç—É—Ä—ã

**StructureType**:
- GAS_STATION, STORE, WORKSHOP, MOTEL, DINER, MECHANIC, WORK_AGENCY, HOME

**Structure –∫–ª–∞—Å—Å**:
- type ‚Äî —Ç–∏–ø —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- position ‚Äî –ø–æ–∑–∏—Ü–∏—è –≤ —É–∑–ª–µ
- visited ‚Äî –±—ã–ª–∞ –ø–æ—Å–µ—â–µ–Ω–∞?
- name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
- –°–æ–∑–¥–∞—é—Ç—Å—è –≤ NodeScene
- –ò–≥—Ä–æ–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —á–µ—Ä–µ–∑ E
- –û—Ç–∫—Ä—ã–≤–∞—é—Ç LocationScene

---

## üîÑ –ü–û–¢–û–ö–ò –î–ê–ù–ù–´–• –ò –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–ï

### –ö–∞–∫ —Å–∏—Å—Ç–µ–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         GAME WINDOW                      ‚îÇ
‚îÇ         (main.cpp)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      SCENE MANAGER                       ‚îÇ
‚îÇ      - –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª                      ‚îÇ
‚îÇ      - –°–º–µ–Ω–∞ —Å—Ü–µ–Ω                        ‚îÇ
‚îÇ      - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚îú‚îÄ‚Üí MainMenuScene
              ‚îú‚îÄ‚Üí CharacterCreationScene
              ‚îú‚îÄ‚Üí MapScene
              ‚îú‚îÄ‚Üí NodeScene
              ‚îú‚îÄ‚Üí TravelCinematicScene
              ‚îú‚îÄ‚Üí LocationScene
              ‚îú‚îÄ‚Üí CinematicEventScene
              ‚îú‚îÄ‚Üí RestScene
              ‚îú‚îÄ‚Üí AbilityTreeScene
              ‚îú‚îÄ‚Üí InventoryScene
              ‚îú‚îÄ‚Üí PauseMenuScene
              ‚îî‚îÄ‚Üí GameOverScene
              
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       –ì–õ–û–ë–ê–õ–¨–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  PlayerState                             ‚îÇ
‚îÇ  ‚îú‚îÄ Resources (energy, money, fuel)     ‚îÇ
‚îÇ  ‚îú‚îÄ Character (origin, carType)         ‚îÇ
‚îÇ  ‚îú‚îÄ InventorySystem                     ‚îÇ
‚îÇ  ‚îî‚îÄ Current Node                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  NPCManager (Singleton)                 ‚îÇ
‚îÇ  ‚îî‚îÄ Team (NPC list)                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  DialogueManager (Singleton)            ‚îÇ
‚îÇ  ‚îî‚îÄ Dialogues                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  AbilityTreeSystem (Singleton)          ‚îÇ
‚îÇ  ‚îî‚îÄ Abilities                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  EventManager                            ‚îÇ
‚îÇ  ‚îî‚îÄ Events Pool                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  QuestManager                            ‚îÇ
‚îÇ  ‚îî‚îÄ Quests                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–º–µ—Ä—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**–ü–æ—Ç–æ–∫ 1: –ü–æ–∫—É–ø–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–∞**
```
1. LocationScene (–º–∞–≥–∞–∑–∏–Ω) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é
2. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç "Buy Food"
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: PlayerState.canAfford(10)?
4. –°–æ–∑–¥–∞–Ω–∏–µ Item("Food", ...)
5. PlayerState.getInventory().addItem(item)
6. PlayerState.addMoney(-10)
7. UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
```

**–ü–æ—Ç–æ–∫ 2: –°–æ–±—ã—Ç–∏–µ –≤ –ø—É—Ç–∏**
```
1. TravelCinematicScene –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
2. –í—ã–∑–æ–≤ EventManager.getRandomEvent(fuel, energy, money)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
4. –í–æ–∑–≤—Ä–∞—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Å–æ–±—ã—Ç–∏—è
5. –ü–µ—Ä–µ—Ö–æ–¥ –∫ CinematicEventScene
6. –ü–æ–∫–∞–∑ —Å–æ–±—ã—Ç–∏—è –∏ –≤—ã–±–æ—Ä–æ–≤
7. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç
8. EventManager.applyChoice() ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ PlayerState
9. –í–æ–∑–≤—Ä–∞—Ç –∫ TravelCinematic
```

**–ü–æ—Ç–æ–∫ 3: –ù–∞–π–º NPC**
```
1. LocationScene (–≥–æ—Ä–æ–¥) ‚Üí –≤—ã–±–æ—Ä "Talk to NPC"
2. DialogueManager.startDialogue("recruit_mechanic")
3. –ü–æ–∫–∞–∑ –¥–∏–∞–ª–æ–≥–∞
4. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç "Hire for $100"
5. –ü—Ä–æ–≤–µ—Ä–∫–∞: PlayerState.canAfford(100)?
6. –°–æ–∑–¥–∞–Ω–∏–µ NPC —á–µ—Ä–µ–∑ NPCFactory.createMechanic()
7. NPCManager.addNPC(npc)
8. –ü—Ä–æ–≤–µ—Ä–∫–∞: hasSpace()?
9. PlayerState.addMoney(-100)
10. –£—Å–ø–µ—Ö ‚Üí NPC –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–º–∞–Ω–¥—É
```

**–ü–æ—Ç–æ–∫ 4: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã**
```
1. RestScene ‚Üí "Save Game"
2. GameStateManager.captureCurrentState()
   ‚îú‚îÄ PlayerState ‚Üí json
   ‚îú‚îÄ InventorySystem ‚Üí json
   ‚îú‚îÄ NPCManager ‚Üí json
   ‚îú‚îÄ QuestManager ‚Üí json
   ‚îî‚îÄ AbilityTreeSystem ‚Üí json
3. SaveSystem.saveGame(gameState)
4. –ó–∞–ø–∏—Å—å –≤ savegame.json
5. –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è "Game Saved"
```

**–ü–æ—Ç–æ–∫ 5: –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
```
1. AbilityTreeScene –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ä–µ–≤–æ
2. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ skill points?
4. –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤—ã–ø–æ–ª–Ω–µ–Ω—ã requirements?
5. AbilityTreeSystem.unlockAbility(id)
6. ExperienceSystem.spendSkillPoints(cost)
7. –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
8. –ë–æ–Ω—É—Å—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –∏–≥—Ä–µ
```

---

## üìù –ü–ê–¢–¢–ï–†–ù–´ –ò –ü–†–ê–ö–¢–ò–ö–ò –ö–û–î–ê

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**1. State Pattern** (–°–æ—Å—Ç–æ—è–Ω–∏–µ)
- –í—Å—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ü–µ–Ω ‚Äî —ç—Ç–æ State Pattern
- –ö–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ = —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- SceneManager = –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

**2. Factory Pattern** (–§–∞–±—Ä–∏–∫–∞)
- `SceneManager::createScene()` ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ —Å—Ü–µ–Ω
- `NPCFactory` ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ NPC
- `DialogueFactory` ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤

**3. Singleton Pattern** (–û–¥–∏–Ω–æ—á–∫–∞)
- NPCManager
- DialogueManager
- AbilityTreeSystem
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–∞–º

**4. Strategy Pattern** (–°—Ç—Ä–∞—Ç–µ–≥–∏—è)
- –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ NPC
- –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π = —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**5. Observer Pattern** (–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å) ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ
- EventManager —Å callback'–∞–º–∏
- UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

**Smart Pointers**:
- `std::unique_ptr<>` –¥–ª—è –≤–ª–∞–¥–µ–Ω–∏—è
- `std::shared_ptr<>` —Ä–µ–¥–∫–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞

**RAII –ø—Ä–∏–Ω—Ü–∏–ø—ã**:
- –†–µ—Å—É—Ä—Å—ã –æ—á–∏—â–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–µ—Ç —Ä—É—á–Ω–æ–≥–æ delete
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω—ã

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å—Ü–µ–Ω**:
- –°—Ç–∞—Ä–∞—è —Å—Ü–µ–Ω–∞ —É–¥–∞–ª—è–µ—Ç—Å—è
- –ù–æ–≤–∞—è —Å—Ü–µ–Ω–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è
- unique_ptr —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–º—è—Ç—å—é

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–í–∞–ª–∏–¥–∞—Ü–∏—è**:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ nullptr
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ –º–∞—Å—Å–∏–≤–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

**Fallback**:
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

**–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**:
- const correctness
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –°–ë–û–†–ö–ê –ò –ó–ê–ü–£–°–ö

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**Ubuntu/Debian**:
```bash
sudo apt-get install libsfml-dev cmake build-essential
```

**MacOS**:
```bash
brew install sfml cmake
```

**Windows**:
- –°–∫–∞—á–∞—Ç—å SFML —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CMake
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Visual Studio / MinGW

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone https://github.com/barzikol/kkurs.git
cd kkurs

# –°–æ–∑–¥–∞–Ω–∏–µ build –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mkdir build
cd build

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å CMake
cmake ..

# –°–±–æ—Ä–∫–∞
make

# –ó–∞–ø—É—Å–∫
./kkurs
```

### –¢–µ—Å—Ç—ã

```bash
cd build
ctest
```

### –°–∫—Ä–∏–ø—Ç—ã

–í –ø–∞–ø–∫–µ `scripts/`:
- `build.sh` ‚Äî —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `run.sh` ‚Äî –∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
- `test.sh` ‚Äî –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- `clean.sh` ‚Äî –æ—á–∏—Å—Ç–∫–∞ build
- `run_all_tests.sh` ‚Äî –≤—Å–µ —Ç–µ—Å—Ç—ã

---

## üìÇ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

```
kkurs/
‚îú‚îÄ‚îÄ src/                      # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ .cpp
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ SceneManager.cpp     # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å—Ü–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ PlayerState.cpp      # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ *Scene.cpp           # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ü–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ *Manager.cpp         # –ú–µ–Ω–µ–¥–∂–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ *System.cpp          # –°–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ UI/                  # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ UIComponent.cpp
‚îÇ       ‚îú‚îÄ‚îÄ HUDPanel.cpp
‚îÇ       ‚îî‚îÄ‚îÄ ResourceBar.cpp
‚îÇ
‚îú‚îÄ‚îÄ include/                 # –ó–∞–≥–æ–ª–æ–≤–∫–∏ .h
‚îÇ   ‚îú‚îÄ‚îÄ Scene.h             # –ë–∞–∑–æ–≤–∞—è —Å—Ü–µ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ SceneManager.h      # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å—Ü–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ PlayerState.h       # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ *Scene.h            # –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ü–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ *Manager.h          # –ú–µ–Ω–µ–¥–∂–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ *System.h           # –°–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ UI/                 # UI –∑–∞–≥–æ–ª–æ–≤–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ UIComponent.h
‚îÇ       ‚îú‚îÄ‚îÄ HUDPanel.hpp
‚îÇ       ‚îî‚îÄ‚îÄ ResourceBar.h
‚îÇ
‚îú‚îÄ‚îÄ assets/                  # –†–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ fonts/              # –®—Ä–∏—Ñ—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ images/                  # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Press_Start_2P/     # –ü–∏–∫—Å–µ–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ Jersey_10/          # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç
‚îÇ
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_*.cpp          # –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
‚îÇ
‚îú‚îÄ‚îÄ scripts/                 # –°–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ build.sh
‚îÇ   ‚îú‚îÄ‚îÄ run.sh
‚îÇ   ‚îú‚îÄ‚îÄ test.sh
‚îÇ   ‚îú‚îÄ‚îÄ clean.sh
‚îÇ   ‚îî‚îÄ‚îÄ run_all_tests.sh
‚îÇ
‚îú‚îÄ‚îÄ CMakeLists.txt          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CMake
‚îú‚îÄ‚îÄ README.md               # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ CODE_STRUCTURE_ANALYSIS.md  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –§–ê–ô–õ–´ –î–õ–Ø –ò–ó–£–ß–ï–ù–ò–Ø

### –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
1. **`main.cpp`** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Å–æ–∑–¥–∞–Ω–∏–µ –æ–∫–Ω–∞ –∏ SceneManager
2. **`Scene.h`** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—Å–µ—Ö —Å—Ü–µ–Ω
3. **`SceneManager.h/.cpp`** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞–º–∏, –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
4. **`PlayerState.h/.cpp`** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã

### –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏:
1. **`InventorySystem.h/.cpp`** ‚Äî –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏ –ø—Ä–µ–¥–º–µ—Ç—ã
2. **`NPC.h/.cpp`** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ø—É—Ç—á–∏–∫–æ–≤
3. **`DialogueManager.h/.cpp`** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤
4. **`EventManager.h/.cpp`** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π
5. **`QuestManager.h/.cpp`** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤

### –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ü–µ–Ω:
1. **`MainMenuScene.cpp`** ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
2. **`CharacterCreationScene.cpp`** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
3. **`NodeScene.cpp`** ‚Äî –≥–µ–π–º–ø–ª–µ–π –≤ —É–∑–ª–µ
4. **`LocationScene.cpp`** ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è
5. **`CinematicEventScene.cpp`** ‚Äî —Å–æ–±—ã—Ç–∏—è

### –î–ª—è UI:
1. **`UI/UIComponent.h`** ‚Äî –±–∞–∑–æ–≤—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. **`UI/HUDPanel.cpp`** ‚Äî –ø–∞–Ω–µ–ª—å HUD
3. **`UI/ResourceBar.cpp`** ‚Äî –ø–æ–ª–æ—Å–∞ —Ä–µ—Å—É—Ä—Å–∞

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò TODO

### –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
‚ùå **GridInventorySystem** ‚Äî Tarkov-style –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (—Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫)
‚ùå **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏** ‚Äî —Å —Ñ—Ä–∞–∫—Ü–∏—è–º–∏
‚ùå **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞** ‚Äî —Ü–µ–Ω—ã –º–µ–Ω—è—é—Ç—Å—è
‚ùå **Crafting** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
‚ùå **–ü–æ–≥–æ–¥–∞** ‚Äî –ø–æ–≥–æ–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚ùå **–î–µ–Ω—å/–Ω–æ—á—å** ‚Äî —Ü–∏–∫–ª –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫
‚ùå **Multiplayer** ‚Äî –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

### –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
‚ö†Ô∏è **–î–∏–∞–ª–æ–≥–∏** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –µ—Å—Ç—å, –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–∞–ª–æ
‚ö†Ô∏è **–°–æ–±—ã—Ç–∏—è** ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤, –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ
‚ö†Ô∏è **–ö–≤–µ—Å—Ç—ã** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –µ—Å—Ç—å, –∫–≤–µ—Å—Ç–æ–≤ –º–∞–ª–æ
‚ö†Ô∏è **–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** ‚Äî –¥–µ—Ä–µ–≤–æ –µ—Å—Ç—å, —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–µ –≤—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç
‚ö†Ô∏è **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** ‚Äî –±–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞, –Ω—É–∂–Ω—ã —É–ª—É—á—à–µ–Ω–∏—è

### –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
‚úÖ **–°—Ü–µ–Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**
‚úÖ **–ë–∞–∑–æ–≤—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å**
‚úÖ **NPC —Å–∏—Å—Ç–µ–º–∞**
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –æ–ø—ã—Ç–∞**
‚úÖ **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
‚úÖ **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω—ã**

---

## üìö –ö–ê–ö –†–ê–°–®–ò–†–ò–¢–¨ –ü–†–û–ï–ö–¢

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ü–µ–Ω—É

1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã:
   - `include/NewScene.h`
   - `src/NewScene.cpp`

2. –ù–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç Scene:
```cpp
class NewScene : public Scene {
public:
    void handleInput(const sf::Event& event) override;
    void update(float deltaTime) override;
    void render(sf::RenderWindow& window) override;
    SceneType getNextScene() const override;
    bool isFinished() const override;
};
```

3. –î–æ–±–∞–≤–∏—Ç—å –≤ `Scene.h`:
```cpp
enum class SceneType {
    // ...
    NEW_SCENE
};
```

4. –î–æ–±–∞–≤–∏—Ç—å –≤ `SceneManager::createScene()`:
```cpp
case SceneType::NEW_SCENE:
    return std::make_unique<NewScene>();
```

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ NPC

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É**
```cpp
// –í NPCFactory
std::unique_ptr<NPC> createNewNPC() {
    auto npc = std::make_unique<NPC>("new_npc_id", "Name", "Bio");
    
    PassiveAbility ability("ability_id", "Name", "Description", 
                          PassiveAbilityAttachment::NPC);
    npc->setPassiveAbility(ability);
    
    return npc;
}
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é**
```cpp
auto npc = std::make_unique<NPC>("id", "Name", "Bio");
NPCManager::getInstance().addNPC(std::move(npc));
```

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ

```cpp
GameEvent newEvent;
newEvent.id = "unique_event_id";
newEvent.title = "–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è";
newEvent.description = "–û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏...";

// –£—Å–ª–æ–≤–∏—è
newEvent.condition.minFuel = 20.0f;
newEvent.condition.probability = 0.3f;

// –í–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–±–æ—Ä–∞
EventChoice choice1;
choice1.text = "–í–∞—Ä–∏–∞–Ω—Ç 1";
choice1.outcomeText = "–†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞ 1";
choice1.fuelChange = -10.0f;
choice1.moneyChange = 50;

newEvent.choices.push_back(choice1);

// –î–æ–±–∞–≤–∏—Ç—å –≤ –º–µ–Ω–µ–¥–∂–µ—Ä
eventManager.addEvent(newEvent);
```

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥

```cpp
DialogueTree tree;
tree.id = "new_dialogue";
tree.title = "–î–∏–∞–ª–æ–≥";

// –°–æ–∑–¥–∞—Ç—å —É–∑–ª—ã
DialogueNode startNode;
startNode.id = "start";
startNode.speakerName = "NPC Name";
startNode.text = "–ü—Ä–∏–≤–µ—Ç!";

// –î–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä—ã
DialogueChoice choice1;
choice1.text = "–û—Ç–≤–µ—Ç 1";
choice1.nextNodeId = "node2";

startNode.choices.push_back(choice1);

// –î–æ–±–∞–≤–∏—Ç—å —É–∑–ª—ã –≤ –¥–µ—Ä–µ–≤–æ
tree.nodes["start"] = startNode;
tree.startNodeId = "start";

// –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å
DialogueManager::getInstance().registerDialogue(tree.id, tree);
```

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

```cpp
AbilityNode ability;
ability.id = "new_ability";
ability.name = "–ù–∞–∑–≤–∞–Ω–∏–µ";
ability.description = "–û–ø–∏—Å–∞–Ω–∏–µ";
ability.tier = 1;
ability.cost = 1;
ability.bonusFuelEfficiency = 0.15f;

AbilityTreeSystem::getInstance().addAbility(ability);
```

---

## üß≠ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –†–ê–ó–í–ò–¢–ò–Æ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 ‚Äî –ö—Ä–∏—Ç–∏—á–Ω–æ:
1. –ó–∞–≤–µ—Ä—à–∏—Ç—å **GridInventorySystem** (Tarkov-style)
2. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ **–∫–æ–Ω—Ç–µ–Ω—Ç–∞** (–¥–∏–∞–ª–æ–≥–∏, —Å–æ–±—ã—Ç–∏—è, –∫–≤–µ—Å—Ç—ã)
3. –î–æ–¥–µ–ª–∞—Ç—å **—ç—Ñ—Ñ–µ–∫—Ç—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π**
4. –£–ª—É—á—à–∏—Ç—å **–±–∞–ª–∞–Ω—Å —Ä–µ—Å—É—Ä—Å–æ–≤**
5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 ‚Äî –í–∞–∂–Ω–æ:
1. **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏** —Å —Ñ—Ä–∞–∫—Ü–∏—è–º–∏
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞** (—Ü–µ–Ω—ã)
3. –ë–æ–ª—å—à–µ **—Ç–∏–ø–æ–≤ NPC** –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
4. **–ü–æ–≥–æ–¥–∞ –∏ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫**
5. **Crafting —Å–∏—Å—Ç–µ–º–∞**

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 ‚Äî –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ:
1. –£–ª—É—á—à–µ–Ω–Ω–∞—è **–≥—Ä–∞—Ñ–∏–∫–∞ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏**
2. **–ó–≤—É–∫–∏ –∏ –º—É–∑—ã–∫–∞**
3. **Achievements** (–¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è)
4. **Multiplayer/Co-op**
5. **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏** (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–æ–≤)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞:
1. –£–±—Ä–∞—Ç—å **–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ —Å—Ü–µ–Ω–∞—Ö
2. –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–π **UI –∫–æ–¥** –≤ –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
3. –£–ª—É—á—à–∏—Ç—å **—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏** (—Ç–µ–∫—Å—Ç—É—Ä—ã, —à—Ä–∏—Ñ—Ç—ã)
4. –î–æ–±–∞–≤–∏—Ç—å **object pooling**
5. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** –≥–æ—Ä—è—á–∏—Ö —Ç–æ—á–µ–∫

---

## üìñ –ì–õ–û–°–°–ê–†–ò–ô

**Scene (–°—Ü–µ–Ω–∞)** ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã (–º–µ–Ω—é, –≥–µ–π–º–ø–ª–µ–π, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏ —Ç.–¥.)

**SceneManager** ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å—Ü–µ–Ω–∞–º–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏

**PlayerState** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä–æ–∫–∞ (—Ä–µ—Å—É—Ä—Å—ã, –ø–µ—Ä—Å–æ–Ω–∞–∂)

**Node (–£–∑–µ–ª)** ‚Äî —Ç–æ—á–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ –º–∏—Ä–∞ (–≥–æ—Ä–æ–¥, –ª–æ–∫–∞—Ü–∏—è)

**Structure (–°—Ç—Ä—É–∫—Ç—É—Ä–∞)** ‚Äî –∑–¥–∞–Ω–∏–µ –≤ —É–∑–ª–µ (–∑–∞–ø—Ä–∞–≤–∫–∞, –º–∞–≥–∞–∑–∏–Ω, –º–æ—Ç–µ–ª—å)

**NPC** ‚Äî –Ω–µ–∏–≥—Ä–æ–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂, –ø–æ–ø—É—Ç—á–∏–∫ –≤ –∫–æ–º–∞–Ω–¥–µ

**Ability (–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å)** ‚Äî –ø–∞—Å—Å–∏–≤–Ω—ã–π –∏–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –Ω–∞–≤—ã–∫

**Perk (–ü–µ—Ä–∫)** ‚Äî –±–æ–Ω—É—Å –æ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**Event (–°–æ–±—ã—Ç–∏–µ)** ‚Äî —Å–ª—É—á–∞–π–Ω–æ–µ –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏–µ –≤ –∏–≥—Ä–µ

**Quest (–ö–≤–µ—Å—Ç)** ‚Äî –∑–∞–¥–∞–Ω–∏–µ —Å —Ü–µ–ª—è–º–∏ –∏ –Ω–∞–≥—Ä–∞–¥–æ–π

**Inventory (–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å)** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞

**Resource (–†–µ—Å—É—Ä—Å)** ‚Äî —Ç–æ–ø–ª–∏–≤–æ, –¥–µ–Ω—å–≥–∏, —ç–Ω–µ—Ä–≥–∏—è

**Biome (–ë–∏–æ–º)** ‚Äî —Ç–∏–ø –º–µ—Å—Ç–Ω–æ—Å—Ç–∏ (–ø—É—Å—Ç—ã–Ω—è, –ª–µ—Å, –≥–æ—Ä–æ–¥)

**Origin (–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ)** ‚Äî –≤—ã–±–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ –Ω–∞—á–∞–ª–µ –∏–≥—Ä—ã

**Dialogue Tree** ‚Äî –≤–µ—Ç–≤—è—â–∏–π—Å—è –¥–∏–∞–ª–æ–≥ —Å –≤—ã–±–æ—Ä–∞–º–∏

**Singleton** ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∫–ª–∞—Å—Å–∞

**Factory** ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤

**State Pattern** ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –î–õ–Ø –ù–û–í–ò–ß–ö–ê

### –®–∞–≥ 1: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é
- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å README.md
- [ ] –ò–∑—É—á–∏—Ç—å Scene.h –∏ SceneManager.h
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É –∏ –ø—Ä–æ–π—Ç–∏ –≤—Å–µ —Å—Ü–µ–Ω—ã
- [ ] –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å main.cpp

### –®–∞–≥ 2: –ò–∑—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º
- [ ] –ò–∑—É—á–∏—Ç—å PlayerState (—Ä–µ—Å—É—Ä—Å—ã)
- [ ] –ò–∑—É—á–∏—Ç—å InventorySystem (–ø—Ä–µ–¥–º–µ—Ç—ã)
- [ ] –ò–∑—É—á–∏—Ç—å NPCManager (–∫–æ–º–∞–Ω–¥–∞)
- [ ] –ò–∑—É—á–∏—Ç—å DialogueManager (–¥–∏–∞–ª–æ–≥–∏)
- [ ] –ò–∑—É—á–∏—Ç—å EventManager (—Å–æ–±—ã—Ç–∏—è)

### –®–∞–≥ 3: –ü—Ä–∞–∫—Ç–∏–∫–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ NPC
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ —Å–æ–±—ã—Ç–∏–µ
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π –¥–∏–∞–ª–æ–≥

### –®–∞–≥ 4: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ü–µ–Ω—É
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ —É–∑–µ–ª
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–≤–µ—Å—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

---

## üîó –°–í–Ø–ó–ê–ù–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´

- **README.md** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **PROJECT_STATUS.md** ‚Äî —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **IMPLEMENTATION_PLAN.md** ‚Äî –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **FUNCTIONAL_REPORT.md** ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç
- **CAR_SPECIFICATIONS.md** ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–∞—à–∏–Ω
- **WORLD_MAP_FORMAT.md** ‚Äî —Ñ–æ—Ä–º–∞—Ç –∫–∞—Ä—Ç—ã
- **NPC_RECRUITMENT_GUIDE.md** ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ NPC

---

## üìû –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–û–ú–û–©–¨

**–í –ø—Ä–æ–µ–∫—Ç–µ**:
- README.md
- –≠—Ç–æ—Ç —Ñ–∞–π–ª (CODE_STRUCTURE_ANALYSIS.md)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ

**–í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã**:
- SFML: https://www.sfml-dev.org/
- C++ Reference: https://en.cppreference.com/
- Game Programming Patterns: https://gameprogrammingpatterns.com/

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –ø—Ä–æ–µ–∫—Ç–∞ KKURS**

**–î–∞—Ç–∞**: 2025-11-18 (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
**–í–µ—Ä—Å–∏—è**: 1.1
**–ê–≤—Ç–æ—Ä**: AI Agent (GitHub Copilot)
**–¶–µ–ª—å**: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
