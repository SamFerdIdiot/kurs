# –°–∏—Å—Ç–µ–º–∞ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–ó–∞–≥—Ä—É–∑–∫–∏ - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

## –û–±–∑–æ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏–≥—Ä–æ–∫–∞
   - –ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø—Ä–∏–±—ã—Ç–∏–∏ –≤ —É–∑–µ–ª (–≥–æ—Ä–æ–¥)
   - –ò–≥—Ä–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É
   - –ò–≥—Ä–æ–∫ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–≥—Ä—É –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ

2. **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π**
   - –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
   - –ï—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –µ—Å—Ç—å - –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" –∞–∫—Ç–∏–≤–Ω–∞ (–∑–µ–ª–µ–Ω–∞—è)
   - –ï—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ—Ç - –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ (—Å–µ—Ä–∞—è)
   - –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É" –∏–ª–∏ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"

3. **–°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤ (1 –æ—Å–Ω–æ–≤–Ω–æ–π + 4 —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö)**
   - 1 –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: `saves/savegame.sav`
   - 4 —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–∏: `saves/savegame_backup_0.sav` - `saves/savegame_backup_3.sav`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –±—ç–∫–∞–ø–æ–≤ (—Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π —É–¥–∞–ª—è–µ—Ç—Å—è)
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –∫ –ª—é–±–æ–º—É –∏–∑ 4 –±—ç–∫–∞–ø–æ–≤

4. **–§—É–Ω–∫—Ü–∏—è –æ—Ç–∫–∞—Ç–∞ (rollback)**
   - –ú–µ—Ç–æ–¥ `loadBackup(index)` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
   - –ú–µ—Ç–æ–¥ `getBackupList()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤
   - –ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –ª—é–±–æ–µ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π

### üì¶ –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

**–ë–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞:**
- ‚úÖ –≠–Ω–µ—Ä–≥–∏—è (0-100)
- ‚úÖ –î–µ–Ω—å–≥–∏
- ‚úÖ –¢–æ–ø–ª–∏–≤–æ (0-100)
- ‚úÖ –ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (NOMAD, HITCHHIKER, EX_RACER)
- ‚úÖ –¢–∏–ø –º–∞—à–∏–Ω—ã (OLD_SEDAN, OFFROAD_VAN, SPORTS_COUPE)
- ‚úÖ –¢–µ–∫—É—â–∏–π —É–∑–µ–ª (–≥–æ—Ä–æ–¥)

**–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å:**
- ‚úÖ –í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ —Å –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
- ‚úÖ –û–±—â–∏–π –≤–µ—Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥—Ä—É–∑–æ–ø–æ–¥—ä–µ–º–Ω–æ—Å—Ç—å
- ‚úÖ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≤–µ—Å, —Ü–µ–Ω–∞)

**–û–ø—ã—Ç –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**
- ‚úÖ –£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- ‚úÖ –û–ø—ã—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- ‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–ø–µ—Ä–∫–∏)

**–ö–≤–µ—Å—Ç—ã:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–≤–µ—Å—Ç–æ–≤ (–Ω–µ –Ω–∞—á–∞—Ç, –∞–∫—Ç–∏–≤–µ–Ω, –∑–∞–≤–µ—Ä—à–µ–Ω, –ø—Ä–æ–≤–∞–ª–µ–Ω)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—Å–µ—Ö —Ü–µ–ª–µ–π –∫–≤–µ—Å—Ç–æ–≤
- ‚úÖ –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π

**NPC –∏ –∫–æ–º–∞–Ω–¥–∞:**
- ‚úÖ –í—Å–µ NPC –≤ –∫–æ–º–∞–Ω–¥–µ
- ‚úÖ –£—Ä–æ–≤–Ω–∏ –∏ –æ–ø—ã—Ç –∫–∞–∂–¥–æ–≥–æ NPC
- ‚úÖ –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ NPC (–ø–∞—Å—Å–∏–≤–Ω—ã–µ –∏ –∞–∫—Ç–∏–≤–Ω—ã–µ)

**–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤:**
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ –¥–æ—Å—Ç—É–ø–∞ –∫ –∏—Å—Ç–æ—Ä–∏–∏ –≤ DialogueManager

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **SaveSystem** (`include/SaveSystem.h`, `src/SaveSystem.cpp`)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
   - –†–æ—Ç–∞—Ü–∏—è –±—ç–∫–∞–ø–æ–≤
   - –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –≤ JSON-–ø–æ–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

2. **GameStateManager** (`include/GameStateManager.h`, `src/GameStateManager.cpp`)
   - Singleton –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PlayerState –∏ SaveSystem
   - API –¥–ª—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã, –∑–∞–≥—Ä—É–∑–∫–∏, –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ü–µ–Ω–∞–º–∏**
   - MainMenuScene - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π, –∑–∞–≥—Ä—É–∑–∫–∞
   - CharacterCreationScene - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
   - NodeScene - –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ

## –ü–æ—Ç–æ–∫ –∏–≥—Ä—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
```
–ó–∞–ø—É—Å–∫ ‚Üí –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí "–ù–æ–≤–∞—è –∏–≥—Ä–∞"
       ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–≤—ã–±–æ—Ä –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∏ –º–∞—à–∏–Ω—ã)
       ‚Üí –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
       ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–µ—Ä–≤—ã–π —É–∑–µ–ª
```

### –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏–≥—Ä—ã
```
–ó–∞–ø—É—Å–∫ ‚Üí –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π)
       ‚Üí "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" (–µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
       ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
       ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —É–∑–µ–ª
```

### –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
```
–ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ ‚Üí –í—Ö–æ–¥ –≤ –Ω–æ–≤—ã–π —É–∑–µ–ª
                     ‚Üí –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                     ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±—ç–∫–∞–ø–∞
                     ‚Üí (—Å—Ç–∞—Ä—ã–π –±—ç–∫–∞–ø —É–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞)
```

## –§–æ—Ä–º–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π JSON-–ø–æ–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–ª–µ–≥–∫–æ —á–∏—Ç–∞–µ—Ç—Å—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è):

```json
{
  "version": 1,
  "timestamp": 1700000000,
  "energy": 85.5,
  "money": 1250.0,
  "fuel": 70.0,
  "origin": 0,
  "carType": 1,
  "currentNodeId": 3,
  "inventory": {
    "totalWeight": 15.5,
    "maxWeight": 100.0,
    "slotCount": 24,
    "items": [...]
  },
  "experience": {
    "level": 5,
    "exp": 2400,
    "unlockedAbilities": ["ability1", "ability2"]
  },
  "quests": [
    {
      "id": "quest_1",
      "status": 1,
      "objectives": [
        {
          "type": 0,
          "currentAmount": 3,
          "targetAmount": 5,
          "completed": false
        }
      ]
    }
  ],
  "dialogueHistory": [],
  "npcs": [
    {
      "id": "companion_1",
      "name": "Alex",
      "level": 3,
      "experience": 450,
      "passiveAbilityId": "navigation",
      "activeAbilityId": "repair"
    }
  ]
}
```

**–ü–æ–ª—è:**
- `version` - –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–¥–ª—è –±—É–¥—É—â–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- `timestamp` - –≤—Ä–µ–º—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (Unix timestamp)
- `energy` - —ç–Ω–µ—Ä–≥–∏—è –∏–≥—Ä–æ–∫–∞ (0-100)
- `money` - –¥–µ–Ω—å–≥–∏ –∏–≥—Ä–æ–∫–∞
- `fuel` - —Ç–æ–ø–ª–∏–≤–æ –º–∞—à–∏–Ω—ã (0-100)
- `origin` - –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (0=NOMAD, 1=HITCHHIKER, 2=EX_RACER)
- `carType` - —Ç–∏–ø –º–∞—à–∏–Ω—ã (0=OLD_SEDAN, 1=OFFROAD_VAN, 2=SPORTS_COUPE)
- `currentNodeId` - —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª (–≥–æ—Ä–æ–¥)
- `inventory` - –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞:
  - `totalWeight` - —Ç–µ–∫—É—â–∏–π –æ–±—â–∏–π –≤–µ—Å
  - `maxWeight` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥—Ä—É–∑–æ–ø–æ–¥—ä–µ–º–Ω–æ—Å—Ç—å
  - `slotCount` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤
  - `items` - –º–∞—Å—Å–∏–≤ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Å –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
- `experience` - –æ–ø—ã—Ç –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
  - `level` - —É—Ä–æ–≤–µ–Ω—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  - `exp` - —Ç–µ–∫—É—â–∏–π –æ–ø—ã—Ç
  - `unlockedAbilities` - –º–∞—Å—Å–∏–≤ ID —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π (–ø–µ—Ä–∫–æ–≤)
- `quests` - –º–∞—Å—Å–∏–≤ –∫–≤–µ—Å—Ç–æ–≤:
  - `id` - ID –∫–≤–µ—Å—Ç–∞
  - `status` - —Å—Ç–∞—Ç—É—Å (0=–Ω–µ –Ω–∞—á–∞—Ç, 1=–∞–∫—Ç–∏–≤–µ–Ω, 2=–∑–∞–≤–µ—Ä—à–µ–Ω, 3=–ø—Ä–æ–≤–∞–ª–µ–Ω)
  - `objectives` - –º–∞—Å—Å–∏–≤ —Ü–µ–ª–µ–π —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- `dialogueHistory` - –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ (–±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- `npcs` - –º–∞—Å—Å–∏–≤ NPC –≤ –∫–æ–º–∞–Ω–¥–µ:
  - `id` - ID NPC
  - `name` - –∏–º—è NPC
  - `level` - —É—Ä–æ–≤–µ–Ω—å
  - `experience` - –æ–ø—ã—Ç
  - `passiveAbilityId` - ID –ø–∞—Å—Å–∏–≤–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
  - `activeAbilityId` - ID –∞–∫—Ç–∏–≤–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```cpp
if (GameStateManager::getInstance().hasSaveGame()) {
    // –ï—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ - –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
} else {
    // –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è - –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
```cpp
// –û—á–∏—â–∞–µ—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
GameStateManager::getInstance().startNewGame(
    OriginType::EX_RACER,
    CarType::OLD_SEDAN
);
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
```cpp
if (GameStateManager::getInstance().loadGame()) {
    // –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ - –ø–µ—Ä–µ–π—Ç–∏ –≤ –∏–≥—Ä—É
} else {
    // –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
}
```

### –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
```cpp
// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ NodeScene
GameStateManager::getInstance().autoSave();
```

### –û—Ç–∫–∞—Ç –∫ –±—ç–∫–∞–ø—É
```cpp
// –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤
auto backups = GameStateManager::getInstance().getBackupList();

for (const auto& backup : backups) {
    if (backup.exists) {
        std::cout << "–ë—ç–∫–∞–ø " << backup.index 
                  << " –æ—Ç —É–∑–ª–∞ " << backup.nodeId << std::endl;
    }
}

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±—ç–∫–∞–ø (0-3)
if (GameStateManager::getInstance().loadBackup(2)) {
    // –£—Å–ø–µ—à–Ω–æ –æ—Ç–∫–∞—Ç–∏–ª–∏—Å—å –∫ –±—ç–∫–∞–ø—É 2
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 74
- **–£—Å–ø–µ—à–Ω–æ**: 74 (100%)
- **SaveSystem —Ç–µ—Å—Ç—ã**: 8 —Ç–µ—Å—Ç–æ–≤
- **GameStateManager —Ç–µ—Å—Ç—ã**: 6 —Ç–µ—Å—Ç–æ–≤

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
cd build
ctest --output-on-failure
```

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
```
include/SaveSystem.h              # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∏—Å—Ç–µ–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
src/SaveSystem.cpp                # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
include/GameStateManager.h        # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
src/GameStateManager.cpp          # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
tests/unit/test_save_system.cpp   # –¢–µ—Å—Ç—ã SaveSystem
tests/unit/test_game_state_manager.cpp  # –¢–µ—Å—Ç—ã GameStateManager
SAVE_SYSTEM_GUIDE.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–∞–Ω–≥–ª.)
```

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```
CMakeLists.txt                    # –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
tests/CMakeLists.txt              # –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
.gitignore                        # –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–ø–∫–∞ saves/
src/MainMenuScene.cpp             # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
src/CharacterCreationScene.cpp    # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
src/NodeScene.cpp                 # –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
src/SceneManager.cpp              # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ NODE —Å—Ü–µ–Ω—ã
```

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è:
1. –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â—É—é JSON –±–∏–±–ª–∏–æ—Ç–µ–∫—É (nlohmann/json)
2. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
3. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–≤–µ—Å—Ç–æ–≤
4. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å NPC
5. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
6. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
7. –û–±–ª–∞—á–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
8. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
9. UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
10. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä—É—á–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–∞–ø–∫–∞ `saves/` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
- –ü–∞–ø–∫–∞ `saves/` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `.gitignore` (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ git)
- –§–æ—Ä–º–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ—Å—Ç–æ–π –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–∞
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞—á–∏:
- ‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–∏–±—ã—Ç–∏–∏ –≤ —É–∑–µ–ª
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –æ—Ç –∏–≥—Ä–æ–∫–∞ —Ä–∞–±–æ—Ç–∞
- ‚úÖ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" –∏ "–ù–æ–≤–∞—è –∏–≥—Ä–∞"
- ‚úÖ 1 –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ + 4 –±—ç–∫–∞–ø–∞
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫–∞—Ç–∞ –∫ –ª—é–±–æ–º—É –±—ç–∫–∞–ø—É
- ‚úÖ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
