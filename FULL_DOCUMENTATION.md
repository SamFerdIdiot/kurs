# üìò –ü–û–õ–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø –ü–†–û–ï–ö–¢–ê
# "–î–Ω–µ–≤–Ω–∏–∫ –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞" - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è RPG

**–í–µ—Ä—Å–∏—è:** 1.0 MVP
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2025
**–Ø–∑—ã–∫:** C++17
**–§—Ä–µ–π–º–≤–æ—Ä–∫:** SFML 3.x

---

## üìë –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–°–∏—Å—Ç–µ–º—ã –∏–≥—Ä—ã](#—Å–∏—Å—Ç–µ–º—ã-–∏–≥—Ä—ã)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤)
5. [API Reference](#api-reference)
6. [–ö–æ–Ω—Ç–µ–Ω—Ç](#–∫–æ–Ω—Ç–µ–Ω—Ç)
7. [–°–±–æ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#—Å–±–æ—Ä–∫–∞-–∏-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
8. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## –û–ë–ó–û–† –ü–†–û–ï–ö–¢–ê

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –∏–≥—Ä–∞ –æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏ –º–æ–ª–æ–¥–æ–≥–æ –∏–Ω–∂–µ–Ω–µ—Ä–∞ –∏–∑ –†–æ—Å—Å–∏–∏ –≤ –ì–µ—Ä–º–∞–Ω–∏—é –≤ 1994 –≥–æ–¥—É.
–ò–≥—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏ –≤—ã–±–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ù–µ–ª–∏–Ω–µ–π–Ω—ã–π —Å—é–∂–µ—Ç** —Å 4 –≤–µ—Ç–∫–∞–º–∏ –æ–±—É—á–µ–Ω–∏—è
- **–°–∏—Å—Ç–µ–º–∞ —Ä–µ—Å—É—Ä—Å–æ–≤** (6 —Ç–∏–ø–æ–≤)
- **–£—Å–ª–æ–≤–Ω—ã–µ –≤—ã–±–æ—Ä—ã** –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
- **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** —Å —Å–∏—Å—Ç–µ–º–æ–π –±—ç–∫–∞–ø–æ–≤
- **26 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π**

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

```
–Ø–∑—ã–∫: C++17
GUI: SFML 3.0
–¢–µ—Å—Ç—ã: GoogleTest 1.14.0
–°–±–æ—Ä–∫–∞: CMake 3.10+
–ü–æ–¥–¥–µ—Ä–∂–∫–∞: macOS (–æ—Å–Ω–æ–≤–Ω–∞—è), Linux, Windows
```

---

## –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   main.cpp      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇSceneManager‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –°—Ü–µ–Ω—ã (Scene)                  ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    ‚îÇ ‚Ä¢ MainMenuScene                 ‚îÇ
    ‚îÇ ‚Ä¢ NotebookScene                 ‚îÇ
    ‚îÇ ‚Ä¢ (–¥—Ä—É–≥–∏–µ —Å—Ü–µ–Ω—ã)                ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –ú–µ–Ω–µ–¥–∂–µ—Ä—ã                       ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    ‚îÇ ‚Ä¢ GameStateManager (Singleton)   ‚îÇ
    ‚îÇ ‚Ä¢ EventManager                   ‚îÇ
    ‚îÇ ‚Ä¢ QuestManager                   ‚îÇ
    ‚îÇ ‚Ä¢ SaveSystem                     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  PlayerState     ‚îÇ
    ‚îÇ  (–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã)‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Singleton**: GameStateManager - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏–≥—Ä—ã
2. **State Machine**: SceneManager —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏
3. **Factory**: EventFactory —Å–æ–∑–¥–∞—ë—Ç —Å–æ–±—ã—Ç–∏—è
4. **Observer**: –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
5. **Strategy**: –õ—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π –≤—ã–±–æ—Ä–æ–≤

---

## –°–ò–°–¢–ï–ú–´ –ò–ì–†–´

### 1. –°–∏—Å—Ç–µ–º–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (PlayerState)

#### –†–µ—Å—É—Ä—Å—ã

| –†–µ—Å—É—Ä—Å | –¢–∏–ø | –î–∏–∞–ø–∞–∑–æ–Ω | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|----------|
| **energy** | float | 0-100% | –£—Å—Ç–∞–ª–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ |
| **fuel** | float | 0-50L | –¢–æ–ø–ª–∏–≤–æ –≤ –±–∞–∫–µ |
| **money** | float | 0+ —Ä—É–± | –§–∏–Ω–∞–Ω—Å—ã |
| **vehicleCondition** | float | 0-100% | –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—à–∏–Ω—ã |
| **mood** | int | 0-100 | –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ |
| **reputation** | int | 0-100 | –†–µ–ø—É—Ç–∞—Ü–∏—è —É –ù–ü–° |

#### API –º–µ—Ç–æ–¥–æ–≤

```cpp
void modifyEnergy(float amount);
void addFuel(float amount);
void addMoney(float amount);
void modifyVehicleCondition(float amount);
void modifyMood(float amount);
void modifyReputation(int amount);
```

### 2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏ —á–µ—Ä—Ç

#### –ü—Ä–∏–Ω—Ü–∏–ø—ã (Principles)

–ü—Ä–∏–Ω—Ü–∏–ø—ã - —ç—Ç–æ –∑–Ω–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂ –ø–æ–ª—É—á–∞–µ—Ç –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã:

- `understanding_context` - –°–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ (–í–µ—Ç–∫–∞ –ê)
- `listen_material` - –ß—É–≤—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (–í–µ—Ç–∫–∞ –ë)
- `ask_experienced` - –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –æ–ø—ã—Ç—É (–í–µ—Ç–∫–∞ –í)
- `resource_efficient` - –†–µ—Å—É—Ä—Å–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–í–µ—Ç–∫–∞ –ì)

```cpp
void addPrinciple(const std::string& principle);
bool hasPrinciple(const std::string& principle) const;
std::vector<std::string> getPrinciples() const;
```

#### –ß–µ—Ä—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ (Traits)

–ß–µ—Ä—Ç—ã - –ª–∏—á–Ω–æ—Å—Ç–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:

- `analytical` - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π (–∏–∑ –í–µ—Ç–∫–∏ –ê)
- `intuitive` - –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π (–∏–∑ –í–µ—Ç–∫–∏ –ë)
- `collaborative` - –ö–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω—ã–π (–∏–∑ –í–µ—Ç–∫–∏ –í)
- `efficient` - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π (–∏–∑ –í–µ—Ç–∫–∏ –ì)
- `impulsive` - –ò–º–ø—É–ª—å—Å–∏–≤–Ω—ã–π
- `patient` - –¢–µ—Ä–ø–µ–ª–∏–≤—ã–π

```cpp
void addTrait(const std::string& trait);
bool hasTrait(const std::string& trait) const;
```

#### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (Story Items)

–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã - —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã-–≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è:

- `technical_journal` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–Ω–µ–≤–Ω–∏–∫ (–í–µ—Ç–∫–∞ –ê)
- `burned_finger` - –®—Ä–∞–º –æ—Ç –æ–∂–æ–≥–∞ (–í–µ—Ç–∫–∞ –ë)
- `photo_at_machine` - –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –±—Ä–∏–≥–∞–¥—ã (–í–µ—Ç–∫–∞ –í)
- `spare_starter` - –ó–∞–ø–∞—Å–Ω–æ–π —Å—Ç–∞—Ä—Ç–µ—Ä (–í–µ—Ç–∫–∞ –ì)

```cpp
void addStoryItem(const std::string& item);
bool hasStoryItem(const std::string& item) const;
```

### 3. –°–∏—Å—Ç–µ–º–∞ —É—Å–ª–æ–≤–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–≤

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ NotebookChoice

```cpp
struct NotebookChoice {
    std::string text;
    std::vector<std::string> nextEntryIds;
    std::function<void(PlayerState*)> action;

    std::vector<std::string> requiredPrinciples;
    std::vector<std::string> requiredTraits;
    std::vector<std::string> requiredStoryItems;
    bool isHidden = false;
};
```

#### –õ–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

–í—ã–±–æ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –í–°–ï —É—Å–ª–æ–≤–∏—è:

1. –í—Å–µ `requiredPrinciples` –µ—Å—Ç—å —É –∏–≥—Ä–æ–∫–∞
2. –í—Å–µ `requiredTraits` –µ—Å—Ç—å —É –∏–≥—Ä–æ–∫–∞
3. –í—Å–µ `requiredStoryItems` –µ—Å—Ç—å —É –∏–≥—Ä–æ–∫–∞

```cpp
bool NotebookChoice::isAvailable(const PlayerState* player) const {
    if (!isHidden) return true;

    for (const auto& principle : requiredPrinciples) {
        if (!player->hasPrinciple(principle)) return false;
    }
    for (const auto& trait : requiredTraits) {
        if (!player->hasTrait(trait)) return false;
    }
    for (const auto& item : requiredStoryItems) {
        if (!player->hasStoryItem(item)) return false;
    }

    return true;
}
```

### 4. –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π (EventManager)

#### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----|----------|------------|
| **BRANCH_SPECIFIC** | –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–ª—è –≤–µ—Ç–æ–∫ | 20 |
| **RANDOM** | –°–ª—É—á–∞–π–Ω—ã–µ –Ω–∞ –¥–æ—Ä–æ–≥–µ | 6 |

#### EventChoice —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏

```cpp
struct RandomOutcome {
    float probability;
    std::string outcomeText;
    float energyChange;
    float fuelChange;
    float moneyChange;
};

struct EventChoice {
    std::string text;
    std::vector<RandomOutcome> randomOutcomes;
};
```

#### –¢—Ä–∏–≥–≥–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π

–°–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è:

1. **–ü–æ —É—Å–ª–æ–≤–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤**: `fuel < 5.0f` ‚Üí —Å–æ–±—ã—Ç–∏–µ "out_of_fuel"
2. **–ü–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏**: 20% –º–µ–∂–¥—É –∑–∞–ø–∏—Å—è–º–∏ –±–ª–æ–∫–Ω–æ—Ç–∞
3. **–ü–æ —Å—é–∂–µ—Ç—É**: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö

### 5. –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π (SaveSystem)

#### –§–æ—Ä–º–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

```
=== PLAYER STATE ===
energy: 85.5
fuel: 35.0
money: 1200.0
vehicleCondition: 90.0
mood: 75
reputation: 60
currentCityIndex: 2
currentNotebookEntryId: day0_provocation

=== PRINCIPLES ===
understanding_context
listen_material

=== TRAITS ===
analytical
patient

=== STORY ITEMS ===
technical_journal
burned_finger

=== QUESTS ===
[quest data]
```

#### –ë—ç–∫–∞–ø—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç 4 —Å–ª–æ—Ç–∞ –±—ç–∫–∞–ø–æ–≤:
- `savegame_backup_0.sav` (–ø–æ—Å–ª–µ–¥–Ω–∏–π)
- `savegame_backup_1.sav`
- `savegame_backup_2.sav`
- `savegame_backup_3.sav` (—Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π)

### 6. –°–∏—Å—Ç–µ–º–∞ –±–ª–æ–∫–Ω–æ—Ç–∞ (NotebookScene)

#### –¢–∏–ø—ã –∑–∞–ø–∏—Å–µ–π

```cpp
enum class EntryType {
    PAST,
    PRESENT,
    FUTURE
};
```

- **PAST**: –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è (–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π —Ñ–æ–Ω)
- **PRESENT**: –¢–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç (—Å–µ—Ä—ã–π —Ñ–æ–Ω)
- **FUTURE**: –ü–ª–∞–Ω—ã (—Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π —Ñ–æ–Ω)

#### –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—á–∞—Ç–∏

```cpp
float printSpeed;
bool canSkip;
```

–°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏ –∑–∞–¥–∞—ë—Ç—Å—è –≤ —Å–∏–º–≤–æ–ª–∞—Ö/—Å–µ–∫—É–Ω–¥—É:
- `40.0f` - –º–µ–¥–ª–µ–Ω–Ω–æ (–¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã)
- `60.0f` - –Ω–æ—Ä–º–∞–ª—å–Ω–æ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–µ–º–ø)
- `80.0f` - –±—ã—Å—Ç—Ä–æ (–¥–∏–∞–ª–æ–≥–∏)
- `100.0f` - –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ (–¥–µ–º–æ/—Ç–µ—Å—Ç—ã)

---

## –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

### –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ (src/)

```
src/
‚îú‚îÄ‚îÄ main.cpp                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ Car.cpp                       # –ö–ª–∞—Å—Å –∞–≤—Ç–æ–º–æ–±–∏–ª—è
‚îú‚îÄ‚îÄ PlayerState.cpp               # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
‚îú‚îÄ‚îÄ SaveSystem.cpp                # –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ EventManager.cpp              # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–±—ã—Ç–∏–π
‚îú‚îÄ‚îÄ EventFactory.cpp              # –§–∞–±—Ä–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π
‚îú‚îÄ‚îÄ QuestManager.cpp              # –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–≤–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ GameStateManager.cpp          # Singleton —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ SceneManager.cpp              # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å—Ü–µ–Ω
‚îú‚îÄ‚îÄ MainMenuScene.cpp             # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îú‚îÄ‚îÄ Structure.cpp                 # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–≥—Ä—ã
‚îú‚îÄ‚îÄ GameTypes.cpp                 # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ NPC.cpp                       # –ù–ü–°
‚îú‚îÄ‚îÄ DialogueManager.cpp           # –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ ExperienceSystem.cpp          # –°–∏—Å—Ç–µ–º–∞ –æ–ø—ã—Ç–∞
‚îú‚îÄ‚îÄ AbilityTreeSystem.cpp         # –î–µ—Ä–µ–≤–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ AbilityNode.cpp               # –£–∑–ª—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ AbilityEffectManager.cpp      # –≠—Ñ—Ñ–µ–∫—Ç—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ InventorySystem.cpp           # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
‚îú‚îÄ‚îÄ FuelSystem.cpp                # –°–∏—Å—Ç–µ–º–∞ —Ç–æ–ø–ª–∏–≤–∞
‚îú‚îÄ‚îÄ ResourceEventSystem.cpp       # –°–æ–±—ã—Ç–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
‚îú‚îÄ‚îÄ Notebook/
‚îÇ   ‚îú‚îÄ‚îÄ NotebookScene.cpp         # –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ü–µ–Ω–∞ –±–ª–æ–∫–Ω–æ—Ç–∞ (2500+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ NotebookEntry.cpp         # –ó–∞–ø–∏—Å–∏ –±–ª–æ–∫–Ω–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ ThoughtSystem.cpp         # –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π
‚îî‚îÄ‚îÄ UI/
    ‚îú‚îÄ‚îÄ HUDPanel.cpp              # HUD –ø–∞–Ω–µ–ª—å
    ‚îú‚îÄ‚îÄ ResourceBar.cpp           # –®–∫–∞–ª—ã —Ä–µ—Å—É—Ä—Å–æ–≤
    ‚îî‚îÄ‚îÄ UIComponent.cpp           # –ë–∞–∑–æ–≤—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ (include/)

```
include/
‚îú‚îÄ‚îÄ Scene.h                       # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å—Ü–µ–Ω
‚îú‚îÄ‚îÄ MainMenuScene.h               # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îú‚îÄ‚îÄ PlayerState.h                 # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
‚îú‚îÄ‚îÄ SaveSystem.h                  # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ EventManager.h                # –°–æ–±—ã—Ç–∏—è
‚îú‚îÄ‚îÄ EventFactory.h                # –§–∞–±—Ä–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π
‚îú‚îÄ‚îÄ GameStateManager.h            # Singleton —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ SceneManager.h                # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å—Ü–µ–Ω
‚îú‚îÄ‚îÄ GameTypes.h                   # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ Structure.h                   # –°—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ NPC.h                         # –ù–ü–°
‚îú‚îÄ‚îÄ QuestManager.h                # –ö–≤–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ AbilityTreeSystem.h           # –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ ResourceEventSystem.h         # –°–æ–±—ã—Ç–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
‚îú‚îÄ‚îÄ Notebook/
‚îÇ   ‚îú‚îÄ‚îÄ NotebookScene.h           # –°—Ü–µ–Ω–∞ –±–ª–æ–∫–Ω–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ NotebookEntry.h           # –ó–∞–ø–∏—Å–∏
‚îÇ   ‚îî‚îÄ‚îÄ ThoughtSystem.h           # –†–∞–∑–º—ã—à–ª–µ–Ω–∏—è
‚îî‚îÄ‚îÄ UI/
    ‚îú‚îÄ‚îÄ HUDPanel.h
    ‚îú‚îÄ‚îÄ ResourceBar.h
    ‚îî‚îÄ‚îÄ UIComponent.h
```

### –¢–µ—Å—Ç—ã (tests/)

```
tests/
‚îú‚îÄ‚îÄ CMakeLists.txt                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ test_sanity.cpp           # –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_npc_dialogue.cpp     # –¢–µ—Å—Ç—ã –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ test_quest_manager.cpp    # –¢–µ—Å—Ç—ã –∫–≤–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ test_companion_system.cpp     # –¢–µ—Å—Ç—ã –∫–æ–º–ø–∞–Ω—å–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ test_day0_complete.cpp        # –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Day0
‚îú‚îÄ‚îÄ test_full_system_integration.cpp # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ test_conditional_choices.cpp  # –¢–µ—Å—Ç—ã —É—Å–ª–æ–≤–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–≤
‚îî‚îÄ‚îÄ test_out_of_fuel.cpp          # –¢–µ—Å—Ç—ã —Å–æ–±—ã—Ç–∏–π —Ç–æ–ø–ª–∏–≤–∞
```

---

## API REFERENCE

### PlayerState

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```cpp
PlayerState()
```

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–≥—Ä–æ–∫–∞ —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:
- energy: 100%
- fuel: 50L
- money: 500‚ÇΩ
- vehicleCondition: 100%
- mood: 50
- reputation: 50

#### –ú–µ—Ç–æ–¥—ã —Ä–µ—Å—É—Ä—Å–æ–≤

```cpp
float getEnergy() const;
void modifyEnergy(float amount);

float getFuel() const;
void setFuel(float amount);
void addFuel(float amount);

float getMoney() const;
void addMoney(float amount);
void modifyMoney(float amount);

float getVehicleCondition() const;
void modifyVehicleCondition(float amount);

int getMood() const;
void modifyMood(float amount);

int getReputation() const;
void modifyReputation(int amount);
```

#### –ú–µ—Ç–æ–¥—ã –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤

```cpp
void addPrinciple(const std::string& principle);
bool hasPrinciple(const std::string& principle) const;
const std::vector<std::string>& getPrinciples() const;
```

#### –ú–µ—Ç–æ–¥—ã —á–µ—Ä—Ç

```cpp
void addTrait(const std::string& trait);
bool hasTrait(const std::string& trait) const;
const std::vector<std::string>& getTraits() const;
```

#### –ú–µ—Ç–æ–¥—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

```cpp
void addStoryItem(const std::string& item);
bool hasStoryItem(const std::string& item) const;
const std::vector<std::string>& getStoryItems() const;
```

#### –ú–µ—Ç–æ–¥—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```cpp
void setCurrentNotebookEntryId(const std::string& id);
std::string getCurrentNotebookEntryId() const;

void setCurrentCityIndex(int index);
int getCurrentCityIndex() const;
```

### NotebookScene

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```cpp
NotebookScene()
```

–ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏ –±–ª–æ–∫–Ω–æ—Ç–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—ã.

#### –ú–µ—Ç–æ–¥—ã Scene (override)

```cpp
void handleInput(const sf::Event& event) override;
void update(float deltaTime) override;
void render(sf::RenderWindow& window) override;
SceneType getNextScene() const override;
bool isFinished() const override;
```

#### –ú–µ—Ç–æ–¥—ã –∑–∞–ø–∏—Å–µ–π

```cpp
void showEntry(const std::string& entryId);
void addEntry(const NotebookEntry& entry);
NotebookEntry* getEntry(const std::string& id);
```

#### –ú–µ—Ç–æ–¥—ã —Å–æ–±—ã—Ç–∏–π

```cpp
void triggerRandomEvent();
void showEventEntry(const std::string& eventId);
```

### SaveSystem

#### –ú–µ—Ç–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

```cpp
bool saveGame(const PlayerState& player);
bool loadGame(PlayerState& player);
bool hasSaveGame() const;
```

#### –ú–µ—Ç–æ–¥—ã –±—ç–∫–∞–ø–æ–≤

```cpp
void rotateSaveBackups();
bool restoreBackup(int backupIndex);
```

### EventManager

#### –ú–µ—Ç–æ–¥—ã —Å–æ–±—ã—Ç–∏–π

```cpp
void addEvent(const GameEvent& event);
GameEvent* getEvent(const std::string& eventId);
std::vector<GameEvent*> getEventsByType(EventType type);
std::vector<GameEvent*> getEventsByBranch(const std::string& branch);
std::vector<GameEvent*> getAllEvents() const;
bool hasTriggered(const std::string& eventId) const;
void triggerEvent(const std::string& eventId);
void resetEvent(const std::string& eventId);
```

### GameStateManager (Singleton)

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å–∞

```cpp
static GameStateManager& getInstance();
```

#### –ú–µ—Ç–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

```cpp
PlayerState& getPlayerState();
bool saveGame();
bool loadGame();
bool hasSaveGame() const;
```

---

## –ö–û–ù–¢–ï–ù–¢

### –î–µ–Ω—å 0: –£—Ä–æ–∫–∏ –¥–æ—Ä–æ–≥–∏

–î–µ–Ω—å 0 - —ç—Ç–æ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø–æ–µ–∑–¥–∫–µ –ø–æ–ª—É–≥–æ–¥–æ–≤–∞–ª–æ–π –¥–∞–≤–Ω–æ—Å—Ç–∏ —Å –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º –î–µ–Ω–∏—Å–æ–º –ü–µ—Ç—Ä–æ–≤–∏—á–µ–º.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
day0_knock (–Ω–∞—á–∞–ª–æ)
    ‚Üì
day0_volga (–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ)
    ‚Üì
day0_first_task (–≤—ã–±–æ—Ä –≤–µ—Ç–∫–∏)
    ‚îú‚îÄ‚Üí –í–ï–¢–ö–ê –ê: –°–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑
    ‚îú‚îÄ‚Üí –í–ï–¢–ö–ê –ë: –ß—É–≤—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
    ‚îú‚îÄ‚Üí –í–ï–¢–ö–ê –í: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞
    ‚îî‚îÄ‚Üí –í–ï–¢–ö–ê –ì: –†–µ—Å—É—Ä—Å–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
    ‚Üì
day0_provocation (—Ñ–∏–Ω–∞–ª)
    ‚Üì
day0_garage_finale (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ)
    ‚Üì
day0_transition_present (–ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ)
```

#### –í–µ—Ç–∫–∞ –ê: –°–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑

**–ü—Ä–∏–Ω—Ü–∏–ø:** `understanding_context` - —á–∏—Ç–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ –∫–æ—Å–≤–µ–Ω–Ω—ã–º –ø—Ä–∏–∑–Ω–∞–∫–∞–º
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** `technical_journal` - –∂—É—Ä–Ω–∞–ª —Å –ø–æ–º–µ—Ç–∫–∞–º–∏ –æ –Ω–µ–º–µ—Ü–∫–∏—Ö —Å—Ç–∞–Ω–∫–∞—Ö

**–ó–∞–ø–∏—Å–∏:**
1. `day0_branch_a_map_tower` - –ö–∞—Ä—Ç–∞ –∏ –≤—ã—à–∫–∞
2. `day0_branch_a_geologist` - –í—Å—Ç—Ä–µ—á–∞ —Å –≥–µ–æ–ª–æ–≥–æ–º
3. `day0_branch_a_3` - –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã
4. `day0_branch_a_4` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π
5. `day0_branch_a_5` - –§–∏–Ω–∞–ª –≤–µ—Ç–∫–∏ (+ —É—Å–ª–æ–≤–Ω—ã–π –≤—ã–±–æ—Ä)

#### –í–µ—Ç–∫–∞ –ë: –ß—É–≤—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞

**–ü—Ä–∏–Ω—Ü–∏–ø:** `listen_material` - —Å–ª—É—à–∞—Ç—å –º–∞—à–∏–Ω—É, —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ—Ä–æ–≥—É
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** `burned_finger` - —à—Ä–∞–º-–ø–∞–º—è—Ç—å –æ—Ç –∫—É–∑–Ω–∏—Ü—ã

**–ó–∞–ø–∏—Å–∏:**
1. `day0_branch_b_engine` - –ù–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å
2. `day0_branch_b_blacksmith` - –ö—É–∑–Ω–∏—Ü–∞
3. `day0_branch_b_3` - –†–∞–±–æ—Ç–∞ —Å –º–µ—Ç–∞–ª–ª–æ–º
4. `day0_branch_b_4` - –ß—É–≤—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
5. `day0_branch_b_5` - –§–∏–Ω–∞–ª –≤–µ—Ç–∫–∏ (+ —É—Å–ª–æ–≤–Ω—ã–π –≤—ã–±–æ—Ä)

#### –í–µ—Ç–∫–∞ –í: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–ü—Ä–∏–Ω—Ü–∏–ø:** `ask_experienced` - —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —É –æ–ø—ã—Ç–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π –æ–ø—ã—Ç
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** `photo_at_machine` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –±—Ä–∏–≥–∞–¥—ã —É —Å—Ç–∞–Ω–∫–∞

**–ó–∞–ø–∏—Å–∏:**
1. `day0_branch_c_truck` - –ó–∞—Å—Ç—Ä—è–≤—à–∏–π –≥—Ä—É–∑–æ–≤–∏–∫
2. `day0_branch_c_teahouse` - –ß–∞–π–Ω–∞—è
3. `day0_branch_c_3` - –†–∞—Å—Å–∫–∞–∑—ã –≤–æ–¥–∏—Ç–µ–ª–µ–π
4. `day0_branch_c_4` - –°–∏–ª–∞ –æ–ø—ã—Ç–∞
5. `day0_branch_c_5` - –§–∏–Ω–∞–ª –≤–µ—Ç–∫–∏ (+ —É—Å–ª–æ–≤–Ω—ã–π –≤—ã–±–æ—Ä)

#### –í–µ—Ç–∫–∞ –ì: –†–µ—Å—É—Ä—Å–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

**–ü—Ä–∏–Ω—Ü–∏–ø:** `resource_efficient` - —Ä–∞—Å—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, —Å—á–∏—Ç–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** `spare_starter` - –∑–∞–ø–∞—Å–Ω–æ–π —Å—Ç–∞—Ä—Ç–µ—Ä

**–ó–∞–ø–∏—Å–∏:**
1. `day0_branch_d_route` - –í—ã–±–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞
2. `day0_branch_d_boys` - –í—Å—Ç—Ä–µ—á–∞ —Å —Ä–µ–±—è—Ç–∞–º–∏
3. `day0_branch_d_3` - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—É—Ç–∏
4. `day0_branch_d_4` - –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
5. `day0_branch_d_5` - –§–∏–Ω–∞–ª –≤–µ—Ç–∫–∏ (+ —É—Å–ª–æ–≤–Ω—ã–π –≤—ã–±–æ—Ä)

#### –ü—Ä–æ–≤–æ–∫–∞—Ü–∏—è (day0_provocation)

–ö–ª—é—á–µ–≤–∞—è —Å—Ü–µ–Ω–∞, –≥–¥–µ –≤—Å–µ –≤–µ—Ç–∫–∏ —Å—Ö–æ–¥—è—Ç—Å—è. –ó–¥–µ—Å—å –∏–≥—Ä–æ–∫ –≤–∏–¥–∏—Ç:

**–ë–∞–∑–æ–≤—ã–µ –≤—ã–±–æ—Ä—ã (2):**
- ¬´–°–∞–º —Ç—ã –≤–µ—á–Ω–æ –≤–æ—Ä—á–∏—à—å.¬ª ‚Üí —á–µ—Ä—Ç–∞ `impulsive`
- ¬´–Ø –¥—É–º–∞—é.¬ª ‚Üí —á–µ—Ä—Ç–∞ `patient`

**–£—Å–ª–æ–≤–Ω—ã–µ –≤—ã–±–æ—Ä—ã (4):**
- [üí° –í–µ—Ç–∫–∞ –ê] ¬´–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é —Å–∏—Ç—É–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º–Ω–æ.¬ª ‚Üí —á–µ—Ä—Ç–∞ `analytical`
- [üí° –í–µ—Ç–∫–∞ –ë] ¬´–ß—É–≤—Å—Ç–≤—É—é, —á—Ç–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.¬ª ‚Üí —á–µ—Ä—Ç–∞ `intuitive`
- [üí° –í–µ—Ç–∫–∞ –í] ¬´–°–ø—Ä–æ—à—É —É —Ç–µ—Ö, –∫—Ç–æ –∑–Ω–∞–µ—Ç –ª—É—á—à–µ.¬ª ‚Üí —á–µ—Ä—Ç–∞ `collaborative`
- [üí° –í–µ—Ç–∫–∞ –ì] ¬´–í–∑–≤–µ—à—É –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∏ —Ä–µ—à—É.¬ª ‚Üí —á–µ—Ä—Ç–∞ `efficient`

### –°–æ–±—ã—Ç–∏—è

#### –°–æ–±—ã—Ç–∏—è "–ó–∞–∫–æ–Ω—á–∏–ª–æ—Å—å —Ç–æ–ø–ª–∏–≤–æ"

ID: `out_of_fuel`
–¢—Ä–∏–≥–≥–µ—Ä: `fuel < 5.0f`

**–í—ã–±–æ—Ä 1: –ñ–¥–∞—Ç—å –ø–æ–ø—É—Ç–∫—É**

–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏:
- 40% - –£—Å–ø–µ—Ö (+20L —Ç–æ–ø–ª–∏–≤–∞, -50‚ÇΩ, +5 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏)
- 40% - –ß–∞—Å—Ç–∏—á–Ω—ã–π —É—Å–ø–µ—Ö (+10L, -100‚ÇΩ)
- 20% - –ù–µ—É–¥–∞—á–∞ (-10% —ç–Ω–µ—Ä–≥–∏–∏, -2 —á–∞—Å–∞)

**–í—ã–±–æ—Ä 2: –ò–¥—Ç–∏ –ø–µ—à–∫–æ–º –¥–æ –∑–∞–ø—Ä–∞–≤–∫–∏**

–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏:
- 50% - –£—Å–ø–µ—Ö (+25L, -150‚ÇΩ, -15% —ç–Ω–µ—Ä–≥–∏–∏)
- 30% - –ß–∞—Å—Ç–∏—á–Ω—ã–π —É—Å–ø–µ—Ö (+15L, -200‚ÇΩ, -20% —ç–Ω–µ—Ä–≥–∏–∏)
- 20% - –ù–µ—É–¥–∞—á–∞ (-25% —ç–Ω–µ—Ä–≥–∏–∏, -5% —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—à–∏–Ω—ã)

### –î–µ–º–æ-—Å–∏—Å—Ç–µ–º–∞

#### –ú–µ–Ω—é –¥–µ–º–æ (test_thought_system)

4 –æ–ø—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Ä–µ—Å—É—Ä—Å–æ–≤
2. –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏ —á–µ—Ä—Ç
3. –¢–µ—Å—Ç —É—Å–ª–æ–≤–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–≤
4. –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è (–≤—Å–µ —Å–∏—Å—Ç–µ–º—ã)

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–º–æ

**–¢–µ—Å—Ç 1: –†–µ—Å—É—Ä—Å—ã** (2 —ç–∫—Ä–∞–Ω–∞)
- `demo_test_resources` - –û–ø–∏—Å–∞–Ω–∏–µ + –≤—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è
- `demo_test_resources_2` - –†–µ–∑—É–ª—å—Ç–∞—Ç

**–¢–µ—Å—Ç 2: –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ —á–µ—Ä—Ç—ã** (3 —ç–∫—Ä–∞–Ω–∞)
- `demo_test_principles` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∏ —á–µ—Ä—Ç—ã
- `demo_test_principles_2` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
- `demo_test_principles_3` - –†–µ–∑—É–ª—å—Ç–∞—Ç

**–¢–µ—Å—Ç 3: –£—Å–ª–æ–≤–Ω—ã–µ –≤—ã–±–æ—Ä—ã** (4 —ç–∫—Ä–∞–Ω–∞)
- `demo_test_conditional` - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ
- `demo_test_conditional_2` - –ë–∞–∑–æ–≤—ã–µ –≤—ã–±–æ—Ä—ã
- `demo_test_conditional_3` - –ü–æ—è–≤–ª–µ–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
- `demo_test_conditional_4` - –†–µ–∑—É–ª—å—Ç–∞—Ç

**–¢–µ—Å—Ç 4: –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è** (4 —ç–∫—Ä–∞–Ω–∞)
- `demo_full_start` - –í–≤–µ–¥–µ–Ω–∏–µ
- `demo_full_1` - –ü—Ä–æ—à–ª–æ–µ (–ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞)
- `demo_full_2` - –ù–∞—Å—Ç–æ—è—â–µ–µ (–≤—ã–±–æ—Ä —Å —É—Å–ª–æ–≤–∏–µ–º)
- `demo_full_3` - –§–∏–Ω–∞–ª –¥–µ–º–æ

**–§–∏–Ω–∞–ª:**
- `demo_finale` - –ò—Ç–æ–≥–æ–≤—ã–π —ç–∫—Ä–∞–Ω –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

---

## –°–ë–û–†–ö–ê –ò –£–°–¢–ê–ù–û–í–ö–ê

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **CMake** 3.10+
- **C++17** –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä (GCC, Clang, MSVC)
- **SFML** 2.5.1+ –∏–ª–∏ 3.0+
- **GoogleTest** (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### macOS

```bash
brew install sfml cmake

git clone <repo-url>
cd kurs

mkdir build && cd build
cmake .. -DSFML_DIR=/opt/homebrew/opt/sfml@2/lib/cmake/SFML
make -j4

./kkurs
```

### Linux

```bash
sudo apt-get install libsfml-dev cmake build-essential

git clone <repo-url>
cd kurs

mkdir build && cd build
cmake ..
make -j4

./kkurs
```

### Windows

```bash
vcpkg install sfml

git clone <repo-url>
cd kurs

mkdir build && cd build
cmake .. -DCMAKE_TOOLCHAIN_FILE=[vcpkg root]/scripts/buildsystems/vcpkg.cmake
cmake --build . --config Release

.\Release\kkurs.exe
```

---

## –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
cd build/tests
./unit_tests
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ

**–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 84
**Test suites:** 18
**–ü–æ–∫—Ä—ã—Ç–∏–µ:** ~65% –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Å—Ç—ã |
|------|----------|-------|
| `test_sanity.cpp` | –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã | 8 |
| `test_npc_dialogue.cpp` | –¢–µ—Å—Ç—ã –¥–∏–∞–ª–æ–≥–æ–≤ | 27 |
| `test_quest_manager.cpp` | –¢–µ—Å—Ç—ã –∫–≤–µ—Å—Ç–æ–≤ | 16 |
| `test_companion_system.cpp` | –¢–µ—Å—Ç—ã –∫–æ–º–ø–∞–Ω—å–æ–Ω–æ–≤ | 7 |
| `test_day0_complete.cpp` | –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Day0 | 11 |
| `test_conditional_choices.cpp` | –£—Å–ª–æ–≤–Ω—ã–µ –≤—ã–±–æ—Ä—ã | 5 |
| `test_out_of_fuel.cpp` | –°–æ–±—ã—Ç–∏—è —Ç–æ–ø–ª–∏–≤–∞ | 1 |
| `test_full_system_integration.cpp` | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | 12 |

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

```cpp
TEST(PlayerState, ResourceModification) {
    PlayerState player;

    player.modifyEnergy(-10.0f);
    EXPECT_FLOAT_EQ(player.getEnergy(), 90.0f);

    player.addFuel(15.0f);
    EXPECT_FLOAT_EQ(player.getFuel(), 65.0f);
}

TEST(ConditionalChoices, PrincipleRequirements) {
    PlayerState player;
    NotebookChoice choice;
    choice.requiredPrinciples = {"understanding_context"};
    choice.isHidden = true;

    EXPECT_FALSE(choice.isAvailable(&player));

    player.addPrinciple("understanding_context");
    EXPECT_TRUE(choice.isAvailable(&player));
}
```

---

## –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### –ú–µ—Ç—Ä–∏–∫–∏

- **FPS:** 60+ (—Å—Ç–∞–±–∏–ª—å–Ω–æ)
- **–ó–∞–≥—Ä—É–∑–∫–∞:** <1 —Å–µ–∫
- **–†–∞–∑–º–µ—Ä –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞:** ~2.8 MB
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:** ~50 MB

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:** –í—Å–µ –∑–∞–ø–∏—Å–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
2. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥:** –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:** –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏
4. **–°–æ–±—ã—Ç–∏—è:** –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ EventFactory

---

## –ò–ó–í–ï–°–¢–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

- –ö–æ–Ω—Ç–µ–Ω—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –î–Ω—ë–º 0 (43 –∑–∞–ø–∏—Å–∏)
- –°–æ–±—ã—Ç–∏—è –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 20%
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–≤—É–∫–æ–≤–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ
- –ù–µ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–π (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ

- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è macOS (Apple Silicon)
- Windows/Linux —Å–±–æ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–∞, –Ω–æ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
- SFML 3.x –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —Å—Ç–∞—Ä—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

---

## –ü–õ–ê–ù–´ –†–ê–ó–í–ò–¢–ò–Ø

### –ö–æ–Ω—Ç–µ–Ω—Ç

- [ ] –î–µ–Ω—å 1-3 - –æ—Å–Ω–æ–≤–Ω–æ–π —Å—é–∂–µ—Ç –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è
- [ ] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ –∏ –∫–æ–Ω—Ü–æ–≤–∫–∏
- [ ] –ë–æ–ª—å—à–µ —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- [ ] –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ó–≤—É–∫–æ–≤–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ (–º—É–∑—ã–∫–∞ + —ç—Ñ—Ñ–µ–∫—Ç—ã)
- [ ] –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
- [ ] –ö–∞—Ä—Ç–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- [ ] –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- [ ] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫)

### –ì–µ–π–º–ø–ª–µ–π

- [ ] –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–∞–Ω—å–æ–Ω–æ–≤ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)
- [ ] –ú–∏–Ω–∏-–∏–≥—Ä—ã –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–±—ã—Ç–∏–π
- [ ] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–æ–≤–∫–∏
- [ ] –†–µ–∂–∏–º New Game+

---

## –ö–û–ù–¢–ê–ö–¢–´ –ò –õ–ò–¶–ï–ù–ó–ò–Ø

**–ü—Ä–æ–µ–∫—Ç:** –ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞
**–°—Ç–∞—Ç—É—Å:** MVP (Minimum Viable Product)
**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2025

**–õ–∏—Ü–µ–Ω–∑–∏—è:** –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã

---

## –ë–õ–ê–ì–û–î–ê–†–ù–û–°–¢–ò

- **SFML** - –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –º—É–ª—å—Ç–∏–º–µ–¥–∏–∞
- **GoogleTest** - –∑–∞ —É–¥–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **CMake** - –∑–∞ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—É—é —Å–±–æ—Ä–∫—É
- **Claude Code** - –∑–∞ –ø–æ–º–æ—â—å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

**"–£ —Ç–µ–±—è –µ—Å—Ç—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–≤–µ—Å—Ç–∏ –¥–æ –∫–æ–Ω—Ü–∞."**

--- –ö–û–ù–ï–¶ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò ---
